// CodeMirror is the only global var we claim
window.CodeMirror=function(){"use strict";function Mo(e,t){var n,r,i;if(!(this instanceof Mo))return new Mo(e,t);this[W]=t=t||{};for(n in g)!t[at](n)&&g[at](n)&&(t[n]=g[n]);Uo(t);r=this[U]=_o(e);r[tt][ps]=this;Io(this);t[Nn]&&!ko&&Mu(this);this[V]=Do(new lf([new ff([Ka("",z,Eu(r))])]));this.nextOpId=0;Po(this);jo(this);t[Mt]&&(this[U][tt][ot]+=Hn);this[Di](t[pn]||"");po&&setTimeout(If(Ou,this,X),20);this[V][qt]=gf();Du(this);try{i=document[Qt]==r[ut]}catch(s){}i||t[Nn]&&!ko?setTimeout(If(Ku,this),20):Qu(this);Nu(this,function(){var e,n;for(e in m)m.propertyIsEnumerable(e)&&m[e](this,t[e],y);for(n=0;n<S[R];++n)S[n](this)})()}function _o(e){var t,n={},r=n[ut]=Uf("textarea",z,z,"position: absolute; padding: 0; width: 1px; height: 1em; outline: none;");go||r[An]("wrap","off");r[An]("autocorrect","off");r[An]("autocapitalize","off");n[Sn]=Uf(nt,[r],z,"overflow: hidden; position: relative; width: 3px; height: 0px;");n[ct]=Uf(nt,[Uf(nt,z,z,"height: 1px")],"CodeMirror-hscrollbar");n[rt]=Uf(nt,[Uf(nt,z,z,"width: 1px")],"CodeMirror-vscrollbar");n[kt]=Uf(nt,z,"CodeMirror-scrollbar-filler");n[Gt]=Uf(nt);n[Ln]=Uf(nt,z,z,"position: relative; z-index: 1");n[_t]=Uf(nt," ","CodeMirror-cursor");n[Ct]=Uf(nt," ","CodeMirror-cursor CodeMirror-secondarycursor");n[Et]=Uf(nt,z,"CodeMirror-measure");n[hn]=Uf(nt,[n[Et],n[Ln],n[Gt],n[_t],n[Ct]],z,"position: relative; outline: none");n.mover=Uf(nt,[Uf(nt,[n[hn]],"CodeMirror-lines")],z,jn);n[dr]=Uf(nt,[n.mover],"CodeMirror-sizer");n[Ti]=Uf(nt," ",z,"position: absolute; height: "+k+Bt);n[yt]=Uf(nt,z,"CodeMirror-gutters");n[wr]=z;t=Uf(nt,[n[dr],n[Ti],n[yt]],z,"position: relative; min-height: 100%");n[J]=Uf(nt,[t],"CodeMirror-scroll");n[J][An]("tabIndex","-1");n[tt]=Uf(nt,[n[Sn],n[ct],n[rt],n[kt],n[J]],ps);if(vo){n[yt][et].zIndex=-1;n[J][et].paddingRight=0}e[K]?e[K](n[tt]):e(n[tt]);Co&&(r[et][Ur]="0px");go||(n[J][Zn]=X);if(So){n[Sn][et][ht]="1px";n[Sn][et][ai]=hi}else vo&&(n[ct][et][si]=n[rt][et][si]="18px");n[zt]=n[gt]=n[wt]=n[Us]=0;n[kr]=n[Zt]=n[Si]=z;n[tn]="";n[ki]=$;n[_n]=$;n.poll=new _f;n[mn]=$;n[Vt]=n[Ut]=z;n[Or]=[];n[ir]=0;n[cn]=$;n[Pn]=$;return n}function Do(e){var t={line:0,ch:0};return{doc:e,frontier:0,highlight:new _f,sel:{from:t,to:t,head:t,anchor:t,shift:$,extend:$},scrollTop:0,scrollLeft:0,overwrite:$,focused:$,maxLine:cf(e,0),maxLineLength:0,maxLineChanged:$,suppressEdits:$,goalColumn:z,cantEdit:$,keyMaps:[],overlays:[],modeGen:0}}function Po(e){var t=e[V].doc;e[V][gr]=Mo[As](e[W],e[W][gr]);t[xi](0,t[zn],function(e){e[jt]&&(e[jt]=z)});e[V][$t]=0;ou(e,100);e[V][ji]++}function Ho(e){var t,n=e[V].doc,r=Eu(e[U]);if(e[W][Mt]){e[U][tt][ot]+=Hn;t=e[U][J][it]/Su(e[U])-3;n[xi](0,n[zn],function(e){var n;if(e[ht]==0)return;n=Math.ceil(e[Lt][R]/t)||1;n!=1&&hf(e,n*r)});e[U][dr][et][si]=""}else{e[U][tt][ot]=e[U][tt][ot][On](Hn,"");Ro(e[V]);n[xi](0,n[zn],function(e){e[ht]!=0&&hf(e,r)})}Cu(e,0,n[zn]);vu(e);setTimeout(function(){zo(e[U],e[V].doc[ht])},100)}function Bo(e){var t=T[e[W][ti]][et];e[U][tt][ot]=e[U][tt][ot][On](/\s*cm-keymap-\S+/g,"")+(t?" cm-keymap-"+t:"")}function jo(e){e[U][tt][ot]=e[U][tt][ot][On](/\s*cm-s-\S+/g,"")+e[W].theme[On](/(^|\s)\s*/g," cm-s-");vu(e)}function Fo(e){Io(e);Ko(e,X)}function Io(e){var t,n,r,i=e[U][yt],s=e[W][yt];zf(i);for(t=0;t<s[R];++t){n=s[t];r=i[K](Uf(nt,z,"CodeMirror-gutter "+n));if(n==St){e[U][wr]=r;r[et][Ur]=(e[U][kr]||1)+Bt}}i[et][U]=t?"":Kn}function qo(e,t){var n,r,i,s;if(t[ht]==0)return 0;n=t[Lt][R],i=t;while(r=Ia(i)){s=r[pi]();i=cf(e,s[lt][ft]);n+=s[lt].ch-s.to.ch}i=t;while(r=qa(i)){s=r[pi]();n-=i[Lt][R]-s[lt].ch;i=cf(e,s.to[ft]);n+=i[Lt][R]-s.to.ch}return n}function Ro(e){e[li]=cf(e.doc,0);e[ln]=qo(e.doc,e[li]);e[En]=X;e.doc[xi](1,e.doc[zn],function(t){var n=qo(e.doc,t);if(n>e[ln]){e[ln]=n;e[li]=t}})}function Uo(e){var t,n=$;for(t=0;t<e[yt][R];++t)e[yt][t]==St&&(e[At]?n=X:e[yt][Yt](t--,1));!n&&e[At]&&e[yt][Dt](St)}function zo(e,t){var n,r,i,s=t+2*lu(e);e[dr][et].minHeight=e[Ti][et].top=s+Bt;n=Math.max(s,e[J][Nr]);r=e[J][rr]>e[J][it];i=n>e[J][pt];if(i){e[rt][et][U]=Ts;e[rt][et][Ft]=r?Vf(e[Et])+Bt:"0";e[rt][Nt][et][ht]=n-e[J][pt]+e[rt][pt]+Bt}else e[rt][et][U]="";if(r){e[ct][et][U]=Ts;e[ct][et][ur]=i?Vf(e[Et])+Bt:"0";e[ct][Nt][et][Ur]=e[J][rr]-e[J][it]+e[ct][it]+Bt}else e[ct][et][U]="";if(r&&i){e[kt][et][U]=Ts;e[kt][et][ht]=e[kt][et][Ur]=Vf(e[Et])+Bt}else e[kt][et][U]="";xo&&Vf(e[Et])===0&&(e[rt][et][si]=e[ct][et].minHeight=To?"18px":"12px")}function Wo(e,t,n){var r,i=e[J][G],s=e[tt][pt];if(typeof n==nr)i=n;else if(n){i=n.top;s=n[Ft]-n.top}i=Math.floor(i-lu(e));r=Math.ceil(i+s);return{from:df(t,i),to:df(t,r)}}function Xo(e){var t,n,r,i,s,o,u=e[U];if(!u[ki]&&!u[yt][Nt])return;t=Jo(u)-u[J][Z]+e[V][Z];n=u[yt][st],r=t+Bt;for(i=u[Gt][Nt];i;i=i[Dn])if(i[Rr])for(s=0,o=i[Rr];s<o[R];++s)o[s][et][xn]=r;u[yt][et][xn]=t+n+Bt}function Vo(e){var t,n,r,i,s,o;if(!e[W][At])return $;t=e[V].doc,n=$o(e[W],t[zn]-1),r=e[U];if(n[R]!=r[Si]){i=r[Et][K](Uf(nt,[Uf(nt,n)],vn));s=i[Nt][st],o=i[st]-s;r[wr][et][Ur]="";r[Zt]=Math.max(s,r[wr][st]-o);r[kr]=r[Zt]+o;r[Si]=r[Zt]?n[R]:-1;r[wr][et][Ur]=r[kr]+Bt;return X}return $}function $o(e,t){return e[wi](t+e[Ui])+""}function Jo(e){return e[J][Q]()[xn]-e[dr][Q]()[xn]}function Ko(e,t,n){var r=e[U][gt],i=e[U][wt],s=Qo(e,t,n);if(s){Of(e,e,"update",e);(e[U][gt]!=r||e[U][wt]!=i)&&Of(e,e,"viewportChange",e,e[U][gt],e[U][wt])}nu(e);zo(e[U],e[V].doc[ht]);return s}function Qo(e,t,n){var i,s,o,u,a,f,l,c,h,p,d,v,m,g,y,b,w,E,S=e[U],x=e[V].doc;if(!S[tt][it]){S[gt]=S[wt]=S[zt]=0;return}i=Wo(S,x,n);if(t!==X&&t[R]==0&&i[lt]>S[gt]&&i.to<S[wt])return;t&&Vo(e)&&(t=X);S[dr][et].marginLeft=S[ct][et][xn]=S[yt][st]+Bt;if(t!==X&&r)for(s=0;s<t[R];++s){o=t[s];while(u=Ia(cf(x,o[lt]))){a=u[pi]()[lt][ft];o.diff&&(o.diff-=o[lt]-a);o[lt]=a}}f=t===X?0:Infinity;if(e[W][At]&&t&&t!==X)for(s=0;s<t[R];++s)if(t[s].diff){f=t[s][lt];break}a=Math.max(i[lt]-e[W][Dr],0);l=Math.min(x[zn],i.to+e[W][Dr]);S[gt]<a&&a-S[gt]<20&&(a=S[gt]);S[wt]>l&&S[wt]-l<20&&(l=Math.min(x[zn],S[wt]));if(r){a=pf(Ra(x,cf(x,a)));while(l<x[zn]&&Ua(cf(x,l)))++l}c=t===X?[]:Go([{from:S[gt],to:S[wt]}],t);h=0;for(s=0;s<c[R];++s){p=c[s];p[lt]<a&&(p[lt]=a);p.to>l&&(p.to=l);p[lt]<p.to?h+=p.to-p[lt]:c[Yt](s--,1)}if(h==l-a&&a==S[gt]&&l==S[wt])return;c.sort(function(e,t){return e[lt]-t[lt]});d=document[Qt];h<(l-a)*.7&&(S[Gt][et][U]=Kn);Zo(e,a,l,c,f);S[Gt][et][U]="";document[Qt]!=d&&d[mt]&&d[fs]();v=a!=S[gt]||l!=S[wt]||S[Us]!=S[tt][pt];v&&(S[Us]=S[tt][pt]);S[gt]=a;S[wt]=l;ou(e,100);m=S[Gt][zs];for(g=S[Gt][Nt];g;g=g[Dn])if(g[Br]){if(vo){b=g[zs]+g[mt];y=b-m;m=b}else{w=g[Q]();y=w[Ft]-w.top}E=g[Br][ht]-y;y<2&&(y=Eu(S));(E>.001||E<-0.001)&&hf(g[Br],y)}S[zt]=vf(e,cf(x,a));S.mover[et].top=S[zt]+Bt;return X}function Go(e,t){var n,r,i,s,o,u,a,f;for(n=0,r=t[R]||0;n<r;++n){i=t[n],s=[],o=i.diff||0;for(u=0,a=e[R];u<a;++u){f=e[u];if(i.to<=f[lt]&&i.diff)s[Dt]({from:f[lt]+o,to:f.to+o});else if(i.to>f[lt]&&i[lt]<f.to){i[lt]>f[lt]&&s[Dt]({from:f[lt],to:i[lt]});i.to<f.to&&s[Dt]({from:i.to+o,to:f.to+o})}else s[Dt](f)}e=s}return e}function Yo(e){var t,n,r=e[U],i={},s={};for(t=r[yt][Nt],n=0;t;t=t[Dn],++n){i[e[W][yt][n]]=t[is];s[e[W][yt][n]]=t[st]}return{fixedPos:Jo(r),gutterTotalWidth:r[yt][st],gutterLeft:i,gutterWidth:s,wrapperWidth:r[tt][it]}}function Zo(e,t,n,r,i){function h(t){var n=t[Dn];if(go&&Lo&&e[U][fr]==t){t[et][U]=Kn;t[Br]=z}else s.removeChild(t);return n}var s,o,u,a,f=Yo(e),l=e[U],c=e[W][At];!r[R]&&!po&&(!go||!e[U][fr])&&zf(l[Gt]);s=l[Gt],o=s[Nt];u=r[jr](),a=t;e[V].doc[xi](t,n,function(t){var n,l,p,d;u&&u.to==a&&(u=r[jr]());if(Ua(t)){t[ht]!=0&&hf(t,0);if(t[Xt]&&o[Is])for(n=0;n<t[Xt][R];++n)if(t[Xt][n].showIfHidden){l=o[Is];if(l.nodeType==Qi){p=Uf(nt,z,z,jn);l[Mn].replaceChild(p,l);p[K](l);l=p}l[K](tu(t[Xt][n],l,f))}}else if(u&&u[lt]<=a&&u.to>a){while(o[Br]!=t)o=h(o);c&&i<=a&&o[ls]&&Xf(o[ls],$o(e[W],a));o=o[Dn]}else{d=eu(e,t,a,f);s[Ei](d,o);d[Br]=t}++a});while(o)o=h(o)}function eu(e,t,n,r){var i,s,o,u,a,f,l,c,h,p=rf(e,t),d=t[Tt],v=e[U];if(!e[W][At]&&!d&&!t[Mr]&&!t[pr]&&(!t[Xt]||!t[Xt][R]))return p;i=Uf(nt,z,t[pr],jn);if(e[W][At]||d){s=i[K](Uf(nt,z,z,vr+r.fixedPos+Bt));i[Rr]=[s];e[W][At]&&(!d||!d[St])&&(i[ls]=s[K](Uf(nt,$o(e[W],n),vn,"left: "+r.gutterLeft[St]+Hr+v[Zt]+Bt)));if(d)for(o=0;o<e[W][yt][R];++o){u=e[W][yt][o],a=d[at](u)&&d[u];a&&s[K](Uf(nt,[a],"CodeMirror-gutter-elt","left: "+r.gutterLeft[u]+Hr+r.gutterWidth[u]+Bt))}}t[Mr]&&i[K](Uf(nt," ",t[Mr]+" CodeMirror-linebackground"));i[K](p);if(t[Xt])for(f=0,l=t[Xt];f<l[R];++f){c=l[f],h=tu(c,i,r);c.above?i[Ei](h,e[W][At]&&t[ht]!=0?s:p):i[K](h)}vo&&(i[et].zIndex=2);return i}function tu(e,t,n){var r,i=Uf(nt,[e.node],"CodeMirror-linewidget");i.widget=e;if(e[Hs]){(t[Rr]||(t[Rr]=[]))[Dt](i);r=n.wrapperWidth;i[et][xn]=n.fixedPos+Bt;if(!e.coverGutter){r-=n[Ar];i[et].paddingLeft=n[Ar]+Bt}i[et][Ur]=r+Bt}if(e.coverGutter){i[et].zIndex=5;i[et][ai]=Js;e[Hs]||(i[et].marginLeft=-n[Ar]+Bt)}return i}function nu(e){var t,n,r,i=e[U],s=ra(e[V].sel[lt],e[V].sel.to);s||e[W][Jr]?ru(e):i[_t][et][U]=i[Ct][et][U]=Kn;s?i[Ln][et][U]=Kn:iu(e);t=yu(e,e[V].sel[$i],nt);n=i[tt][Q](),r=i[Gt][Q]();i[Sn][et].top=Math.max(0,Math.min(i[tt][pt]-10,t.top+r.top-n.top))+Bt;i[Sn][et][xn]=Math.max(0,Math.min(i[tt][it]-10,t[xn]+r[xn]-n[xn]))+Bt}function ru(e){var t=e[U],n=yu(e,e[V].sel[$i],nt);t[_t][et][xn]=n[xn]+Bt;t[_t][et].top=n.top+Bt;t[_t][et][ht]=Math.max(0,n[Ft]-n.top)*e[W][Ds]+Bt;t[_t][et][U]="";if(n[ro]){t[Ct][et][U]="";t[Ct][et][xn]=n[ro][xn]+Bt;t[Ct][et].top=n[ro].top+Bt;t[Ct][et][ht]=(n[ro][Ft]-n[ro].top)*.85+Bt}else t[Ct][et][U]=Kn}function iu(e){function g(e,t,n,r){t<0&&(t=0);d[K](Uf(nt,z,"CodeMirror-selected",vr+e+"px; top: "+t+Hr+(n==z?v-e:n)+"px; height: "+(r-t)+Bt))}function y(t,n,r,i){function a(n){return gu(e,{line:t,ch:n},nt,s)}var s=cf(h,t),o=s[Lt][R],u=i?Infinity:-Infinity;Jf(mf(s),n||0,r==z?o:r,function(e,t,s){var f=a(s=="rtl"?t-1:e),l=a(s=="rtl"?e:t-1),c=f[xn],h=l[ur];if(l.top-f.top>3){g(c,f.top,z,f[Ft]);c=m;f[Ft]<l.top&&g(c,f[Ft],z,l.top)}r==z&&t==o&&(h=v);n==z&&e==0&&(c=m);u=i?Math.min(l.top,u):Math.max(l[Ft],u);c<m+1&&(c=m);g(c,l.top,h-c,l[Ft])});return u}var t,n,r,i,s,o,u,a,f,l,c=e[U],h=e[V].doc,p=e[V].sel,d=document[Un](),v=c[hn][st],m=cu(e[U]);if(p[lt][ft]==p.to[ft])y(p[lt][ft],p[lt].ch,p.to.ch);else{t=cf(h,p[lt][ft]);n=t,i=[p[lt][ft],p[lt].ch];while(r=qa(n)){o=r[pi]();i[Dt](o[lt].ch,o.to[ft],o.to.ch);if(o.to[ft]==p.to[ft]){i[Dt](p.to.ch);s=X;break}n=cf(h,o.to[ft])}if(s)for(u=0;u<i[R];u+=3)y(i[u],i[u+1],i[u+2]);else{l=cf(h,p.to[ft]);p[lt].ch?a=y(p[lt][ft],p[lt].ch,z,$):a=vf(e,t)-c[zt];p.to.ch?f=y(p.to[ft],Ia(l)?z:0,p.to.ch,X):f=vf(e,l)-c[zt];a<f&&g(m,a,z,f)}}Wf(c[Ln],d);c[Ln][et][U]=""}function su(e){var t,n=e[U];clearInterval(n.blinker);t=X;n[_t][et][Yr]=n[Ct][et][Yr]="";n.blinker=setInterval(function(){if(!n[_t][mt])return;n[_t][et][Yr]=n[Ct][et][Yr]=(t=!t)?"":"hidden"},e[W][qi])}function ou(e,t){e[V][gr][Yn]&&e[V][$t]<e[U][wt]&&e[V].highlight.set(t,If(uu,e))}function uu(e){var t,n,r,i,s=e[V],o=s.doc;if(s[$t]>=e[U][wt])return;t=+(new Date)+e[W].workTime;n=xa(s[gr],fu(e,s[$t]));r=[];o[xi](s[$t],Math.min(o[zn],e[U][wt]+500),function(o){var u,a,f;if(s[$t]<e[U][gt]){tf(e,o,n);o[jt]=s[$t]%5==0?xa(s[gr],n):z}else{u=o[xr];o[xr]=Za(e,o,n);a=!u||u[R]!=o[xr][R];for(f=0;!a&&f<u[R];++f)a=u[f]!=o[xr][f];a&&(i&&i[Ai]==s[$t]?i[Ai]++:r[Dt](i={start:s[$t],end:s[$t]+1}));o[jt]=xa(s[gr],n)}++s[$t];if(+(new Date)>t){ou(e,e[W].workDelay);return X}});r[R]&&Nu(e,function(){var e;for(e=0;e<r[R];++e)Cu(this,r[e][qn],r[e][Ai])})()}function au(e,t){var n,r,i,s,o,u,a=e[V].doc;for(i=t,s=t-100;i>s;--i){if(i==0)return 0;o=cf(a,i-1);if(o[jt])return i;u=Df(o[Lt],z,e[W][Bn]);if(r==z||n>u){r=i-1;n=u}}return r}function fu(e,t){var n,r,i=e[V];if(!i[gr][Yn])return X;n=au(e,t),r=n&&cf(i.doc,n-1)[jt];r?r=xa(i[gr],r):r=Ta(i[gr]);i.doc[xi](n,t,function(s){var o;tf(e,s,r);o=n==t-1||n%5==0||n>=i[gt]&&n<i[wt];s[jt]=o?xa(i[gr],r):z;++n});return r}function lu(e){return e[hn][zs]}function cu(e){var t=Wf(e[Et],Uf(Qi))[K](Uf(Tn,"x"));return t[is]}function hu(e,t,n,r){var i,s,o=-1;r=r||pu(e,t);for(i=n;;i+=o){s=r[i];if(s)break;o<0&&i==0&&(o=1)}return{left:i<n?s[ur]:s[xn],right:i>n?s[xn]:s[ur],top:s.top,bottom:s[Ft]}}function pu(e,t){var n,r,i,s=e[U],o=e[U][Or];for(n=0;n<o[R];++n){r=o[n];if(r[Lt]==t[Lt]&&r[Y]==t[Y]&&s[J][it]==r[Ur])return r[Et]}i=du(e,t);r={text:t[Lt],width:s[J][it],markedSpans:t[Y],measure:i};o[R]==16?o[++s[ir]%16]=r:o[Dt](r);return i}function du(e,t){var n,r,i,s,o,u,a,f,l,c,h,p,d,v,m,g,y,b,w=e[U],E=Ff(t[Lt][R]),S=rf(e,t,E);if(po&&!vo&&!e[W][Mt]&&S[cs][R]>100){n=document[Un]();r=10,i=S[cs][R];for(s=0,o=Math.ceil(i/r);s<o;++s){u=Uf(nt,z,z,"display: inline-block");for(a=0;a<r&&i;++a){u[K](S[Nt]);--i}n[K](u)}S[K](n)}Wf(w[Et],S);f=w[Gt][Q]();l=[],c=Ff(t[Lt][R]),h=S[mt];for(s=0;s<E[R];++s)if(p=E[s]){d=p[Q]();v=Math.max(0,d.top-f.top),m=Math.min(d[Ft]-f.top,h);for(a=0;a<l[R];a+=2){g=l[a],y=l[a+1];if(g>m||y<v)continue;if(g<=v&&y>=m||v<=g&&m>=y||Math.min(m,y)-Math.max(v,g)>=m-v>>1){l[a]=Math.min(v,g);l[a+1]=Math.max(m,y);break}}a==l[R]&&l[Dt](v,m);c[s]={left:d[xn]-f[xn],right:d[ur]-f[xn],top:a}}for(s=0;s<c[R];++s)if(p=c[s]){b=p.top;p.top=l[b];p[Ft]=l[b+1]}return c}function vu(e){e[U][Or][R]=e[U][ir]=0;e[U][Vt]=e[U][Ut]=z;e[V][En]=X}function mu(e,t,n,r){var i,s,o,u,a;if(t[Xt])for(i=0;i<t[Xt][R];++i)if(t[Xt][i].above){s=t[Xt][i].node[mt];n.top+=s;n[Ft]+=s}if(r==ft)return n;r||(r="local");o=vf(e,t);r!="local"&&(o-=e[U][zt]);if(r==Cr){u=e[U][hn][Q]();o+=u.top+(window.pageYOffset||(document[Wn]||document.body)[G]);a=u[xn]+(window.pageXOffset||(document[Wn]||document.body)[Z]);n[xn]+=a;n[ur]+=a}n.top+=o;n[Ft]+=o;return n}function gu(e,t,n,r){r||(r=cf(e[V].doc,t[ft]));return mu(e,r,hu(e,r,t.ch),n)}function yu(e,t,n,r,i){function g(t,s){var o=hu(e,r,t,i);s?o[xn]=o[ur]:o[ur]=o[xn];return mu(e,r,o,n)}var s,o,u,a,f,l,c,h,p,d,v,m;r=r||cf(e[V].doc,t[ft]);i||(i=pu(e,r));s=mf(r),o=t.ch;if(!s)return g(o);f=s[0][dn];for(l=0;l<s[R];++l){c=s[l],h=c[dn]%2;if(c[lt]<o&&c.to>o)return g(o,h);v=h?c.to:c[lt],m=h?c[lt]:c.to;if(v==o){l&&c[dn]<(p=s[l-1])[dn]?d=g(p[dn]%2?p[lt]:p.to-1,X):d=g(h&&c[lt]!=c.to?o-1:o);h==f?u=d:a=d}else if(m==o){p=l<s[R]-1&&s[l+1];if(!h&&p&&p[lt]==p.to)continue;p&&c[dn]<p[dn]?d=g(p[dn]%2?p.to-1:p[lt]):d=g(h?o:o-1,X);h==f?u=d:a=d}}f&&!o&&(a=g(s[0].to-1));if(!u)return a;a&&(u[ro]=a);return u}function bu(e,t,n){var r,i,s,o,u=e[V].doc;n+=e[U][zt];if(n<0)return{line:0,ch:0,outside:X};r=df(u,n);if(r>=u[zn])return{line:u[zn]-1,ch:cf(u,u[zn]-1)[Lt][R]};t<0&&(t=0);for(;;){i=cf(u,r);s=wu(e,i,r,t,n);o=qa(i);if(!o||s.ch!=Yf(i))return s;r=o[pi]().to[ft]}}function wu(e,t,n,r,i){function E(r){var i=yu(e,{line:n,ch:r},ft,t,w);y=X;if(g>i[Ft])return Math.max(0,i[xn]-b);if(g<i.top)return i[xn]+b;y=$;return i[xn]}var s,o,u,a,f,l,c,h,p,d,v,m,g=i-vf(e,t),y=$,b=e[U][tt][it],w=pu(e,t);s=mf(t),o=t[Lt][R];u=Gf(t),a=Yf(t);f=cu(e[U]),l=E(a);if(r>l)return{line:n,ch:a,outside:y};for(;;){if(s?a==u||a==tl(t,u,1):a-u<=1){c=r-f<l-r,h=c?u:a;while(M[xt](t[Lt][an](h)))++h;return{line:n,ch:h,after:c,outside:y}}p=Math.ceil(o/2),d=u+p;if(s){d=u;for(v=0;v<p;++v)d=tl(t,d,1)}m=E(d);if(m>r){a=d;l=m;y&&(l+=1e3);o-=p}else{u=d;f=m;o=p}}}function Eu(e){var t,n;if(e[Ut]!=z)return e[Ut];if(i==z){i=Uf(Qi);for(t=0;t<49;++t){i[K](document[Rt]("x"));i[K](Uf("br"))}i[K](document[Rt]("x"))}Wf(e[Et],i);n=i[mt]/50;n>3&&(e[Ut]=n);zf(e[Et]);return n||1}function Su(e){var t,n,r;if(e[Vt]!=z)return e[Vt];t=Uf(Tn,"x");n=Uf(Qi,[t]);Wf(e[Et],n);r=t[st];r>2&&(e[Vt]=r);return r||10}function xu(e){e[Rn]?++e[Rn].depth:e[Rn]={depth:1,changes:[],delayedCallbacks:[],updateInput:z,userSelChange:z,textChanged:z,selectionChanged:$,updateMaxLine:$,id:++e.nextOpId}}function Tu(e){var t,n,r,i,s,o,u,a,f=e[Rn];if(--f.depth)return;e[Rn]=z;t=e[V],n=e[U];f[uo]&&Ro(t);if(t[En]&&!e[W][Mt]){r=hu(e,t[li],t[li][Lt][R])[ur];n[dr][et][si]=r+3+k+Bt;t[En]=$;i=Math.max(0,n[dr][is]+n[dr][st]-n[J][it]);i<t[Z]&&Ru(e,Math.min(n[J][Z],i),X)}if(f[un]){u=yu(e,t.sel[$i]);s=ma(e,u[xn],u.top,u[xn],u[Ft])}if(f.changes[R]||s&&s[G]!=z)o=Ko(e,f.changes,s&&s[G]);!o&&f[un]&&nu(e);s&&pa(e);f[un]&&su(e);t[sn]&&f[Wr]&&Ou(e,f[ui]);f[sr]&&Af(e,ts,e,f[sr]);f[un]&&Af(e,"cursorActivity",e);for(a=0;a<f[Lr][R];++a)f[Lr][a](e)}function Nu(e,t){return function(){var n,r=e||this;xu(r);try{n=t[js](r,arguments)}finally{Tu(r)}return n}}function Cu(e,t,n,r){e[Rn].changes[Dt]({from:t,to:n,diff:r})}function ku(e){if(e[V][_n])return;e[U].poll.set(e[W][Rs],function(){Au(e);e[V][sn]&&ku(e)})}function Lu(e){function n(){var r=Au(e);if(!r&&!t){t=X;e[U].poll.set(60,n)}else{e[U][_n]=$;ku(e)}}var t=$;e[U][_n]=X;e[U].poll.set(20,n)}function Au(e){var t,n,r,i,s,o,u=e[U][ut],a=e[U][tn],f=e[V],l=f.sel;if(!f[sn]||j(u)||_u(e))return $;t=u[pn];if(t==a&&ra(l[lt],l.to))return $;xu(e);f.sel[jr]=$;n=0,r=Math.min(a[R],t[R]);while(n<r&&a[n]==t[n])++n;i=l[lt],s=l.to;n<a[R]?i={line:i[ft],ch:i.ch-(a[R]-n)}:f[Fs]&&ra(i,s)&&!e[U][Pn]&&(s={line:s[ft],ch:Math.min(cf(e[V].doc,s[ft])[Lt][R],s.ch+(t[R]-n))});o=e[Rn][Wr];Yu(e,i,s,B(t[Kt](n)),Ai,e[U][Pn]?br:ut,{from:i,to:s});e[Rn][Wr]=o;t[R]>1e3?u[pn]=e[U][tn]="":e[U][tn]=t;Tu(e);e[U][Pn]=$;return X}function Ou(e,t){var n,r,i=e[V];if(!ra(i.sel[lt],i.sel.to)){e[U][tn]="";n=F&&(i.sel.to[ft]-i.sel[lt][ft]>100||(r=e[Xn]())[R]>1e3);n?e[U][ut][pn]="-":e[U][ut][pn]=r||e[Xn]();i[sn]&&Bf(e[U][ut])}else t&&(e[U][tn]=e[U][ut][pn]="");e[U][cn]=n}function Mu(e){e[W][er]!=vi&&(po||document[Qt]!=e[U][ut])&&e[U][ut][fs]()}function _u(e){return e[W][er]||e[V][oi]}function Du(t){function r(){t[V][sn]&&setTimeout(If(Mu,t),0)}function i(e){if(t[W][Gn]&&t[W][Gn](t,wf(e)))return;xf(e)}function s(){if(n[cn]){n[tn]="";n[cn]=$;n[ut][pn]=t[Xn]();Bf(n[ut])}}var n=t[U];kf(n[J],ri,Nu(t,Bu));kf(n[J],"dblclick",Nu(t,Ef));kf(n[hn],"selectstart",function(e){Pu(n,e)||Ef(e)});ho||kf(n[J],"contextmenu",function(e){Gu(t,e)});kf(n[J],Er,function(){qu(t,n[J][G]);Ru(t,n[J][Z],X);Af(t,Er,t)});kf(n[rt],Er,function(){qu(t,n[rt][G])});kf(n[ct],Er,function(){Ru(t,n[ct][Z])});kf(n[J],"mousewheel",function(e){Uu(t,e)});kf(n[J],"DOMMouseScroll",function(e){Uu(t,e)});kf(n[ct],ri,r);kf(n[rt],ri,r);kf(n[tt],Er,function(){n[tt][G]=n[tt][Z]=0});kf(window,"resize",function o(){n[Vt]=n[Ut]=z;vu(t);n[tt][Mn]?Ko(t,X):Lf(window,"resize",o)});kf(n[ut],"keyup",Nu(t,function(e){if(t[W][gn]&&t[W][gn](t,wf(e)))return;Cf(e,Cn)==16&&(t[V].sel[jr]=$)}));kf(n[ut],ut,If(Lu,t));kf(n[ut],"keydown",Nu(t,$u));kf(n[ut],"keypress",Nu(t,Ju));kf(n[ut],fs,If(Ku,t));kf(n[ut],"blur",If(Qu,t));if(t[W][or]){kf(n[J],"dragstart",function(e){Iu(t,e)});kf(n[J],"dragenter",i);kf(n[J],"dragover",i);kf(n[J],Vs,Nu(t,ju))}kf(n[J],br,function(){if(Pu(n,e))return;Mu(t);Lu(t)});kf(n[ut],br,function(){n[Pn]=X;Lu(t)});kf(n[ut],"cut",s);kf(n[ut],"copy",s);So&&kf(n[dr],bn,function(){document[Qt]==n[ut]&&n[ut].blur();Mu(t)})}function Pu(e,t){var n;for(n=Tf(t);n!=e[tt];n=n[Mn]){if(!n)return X;if(/\bCodeMirror-(?:line)?widget\b/[xt](n[ot])||n[Mn]==e[dr]&&n!=e.mover)return X}}function Hu(e,t,n){var r,i,s,o,u=e[U];if(!n){r=Tf(t);if(r==u[ct]||r==u[ct][Nt]||r==u[rt]||r==u[rt][Nt]||r==u[kt])return z}o=u[hn][Q]();try{i=t[Hi];s=t[zr]}catch(t){return z}return bu(e,i-o[xn],s-o.top)}function Bu(e){function w(e){var n;if(r==Gr){fa(v,ua(b,t),e);return}f=ua(b,f);l=ua(b,l);if(r=="double"){n=wa(cf(b,e[ft])[Lt],e);ia(e,f)?fa(v,n[lt],l):fa(v,f,n.to)}else r=="triple"&&(ia(e,f)?fa(v,l,ua(b,{line:e[ft],ch:0})):fa(v,f,ua(b,{line:e[ft]+1,ch:0})))}function E(e){var t,n,r=++h,i=Hu(v,e,X);if(!i)return;if(!ra(i,u)){g[sn]||Ku(v);u=i;w(i);t=Wo(m,b);(i[ft]>=t.to||i[ft]<t[lt])&&setTimeout(Nu(v,function(){h==r&&E(e)}),150)}else{n=e[zr]<c.top?-20:e[zr]>c[Ft]?20:0;n&&setTimeout(Nu(v,function(){if(h!=r)return;m[J][G]+=n;E(e)}),50)}}function S(e){var t;h=Infinity;t=Hu(v,e);t&&w(t);Ef(e);Mu(v);Lf(document,Cs,p);Lf(document,bn,d)}var t,n,r,i,u,a,f,l,c,h,p,d,v=this,m=v[U],g=v[V],y=g.sel,b=g.doc;y[jr]=Cf(e,bi);if(Pu(m,e)){if(!go){m[J][Zn]=$;setTimeout(function(){m[J][Zn]=X},100)}return}if(Fu(v,e))return;t=Hu(v,e);switch(Nf(e)){case 3:ho&&Gu.call(v,v,e);return;case 2:t&&fa(v,t);setTimeout(If(Mu,v),20);Ef(e);return}if(!t){Tf(e)==m[J]&&Ef(e);return}g[sn]||Ku(v);n=+(new Date),r=Gr;if(o&&o.time>n-400&&ra(o.pos,t)){r="triple";Ef(e);setTimeout(If(Mu,v),20);Ea(v,t[ft])}else if(s&&s.time>n-400&&ra(s.pos,t)){r="double";o={time:n,pos:t};Ef(e);i=wa(cf(b,t[ft])[Lt],t);fa(v,i[lt],i.to)}else s={time:n,pos:t};u=t;if(v[W][or]&&_&&!_u(v)&&!ra(y[lt],y.to)&&!ia(t,y[lt])&&!ia(y.to,t)&&r==Gr){a=Nu(v,function(n){go&&(m[J][Zn]=$);g[mn]=$;Lf(document,bn,a);Lf(m[J],Vs,a);if(Math.abs(e[Hi]-n[Hi])+Math.abs(e[zr]-n[zr])<10){Ef(n);fa(v,t);Mu(v)}});go&&(m[J][Zn]=X);g[mn]=a;m[J][or]&&m[J][or]();kf(document,bn,a);kf(m[J],Vs,a);return}Ef(e);r==Gr&&fa(v,ua(b,t));f=y[lt],l=y.to;c=m[tt][Q]();h=0;p=Nu(v,function(e){!po&&!Nf(e)?S(e):E(e)});d=Nu(v,S);kf(document,Cs,p);kf(document,bn,d)}function ju(e){var t,n,r,i,s,o,u,a,f,l=this;if(Pu(l[U],e)||l[W][Gn]&&l[W][Gn](l,wf(e)))return;Ef(e);t=Hu(l,e,X),n=e[Jn].files;if(!t||_u(l))return;if(n&&n[R]&&window.FileReader&&window.File){r=n[R],i=Array(r),s=0;o=function(e,n){var o=new FileReader;o.onload=function(){i[n]=o.result;if(++s==r){t=ua(l[V].doc,t);Nu(l,function(){var e=na(l,i.join(""),t,t,br);la(l,t,e)})()}};o.readAsText(e)};for(u=0;u<r;++u)o(n[u],u)}else{if(l[V][mn]&&!ia(t,l[V].sel[lt])&&!ia(l[V].sel.to,t)){l[V][mn](e);po&&setTimeout(If(Mu,l),50);return}try{i=e[Jn].getData("Text");if(i){a=l[V].sel[lt],f=l[V].sel.to;la(l,t,t);l[V][mn]&&na(l,"",a,f,br);l[on](i,z,br);Mu(l);Ku(l)}}catch(e){}}}function Fu(e,t){var n,r,i,s,o,u,a,f=e[U];try{n=t[Hi],r=t[zr]}catch(t){return $}if(n<Math.floor(f[yt][Q]()[ur])){Ef(t);if(!Mf(e,hs))return X;i=f[Gt][Q]();if(r>i[Ft])return X;r-=i.top-f[zt];for(s=0;s<e[W][yt][R];++s){o=f[yt][cs][s];if(o&&o[Q]()[ur]>=n){u=df(e[V].doc,r);a=e[W][yt][s];Of(e,e,hs,e,u,a,t);break}}return X}return $}function Iu(e,t){var n;if(Pu(e[U],t))return;n=e[Xn]();t[Jn].setData("Text",n);t[Jn].setDragImage&&!Eo&&t[Jn].setDragImage(Uf("img"),0,0)}function qu(e,t){if(Math.abs(e[V][G]-t)<2)return;e[V][G]=t;ho||Ko(e,[],t);e[U][J][G]!=t&&(e[U][J][G]=t);e[U][rt][G]!=t&&(e[U][rt][G]=t);ho&&Ko(e,[])}function Ru(e,t,n){if(n?t==e[V][Z]:Math.abs(e[V][Z]-t)<2)return;t=Math.min(t,e[U][J][rr]-e[U][J][it]);e[V][Z]=t;Xo(e);e[U][J][Z]!=t&&(e[U][J][Z]=t);e[U][ct][Z]!=t&&(e[U][ct][Z]=t)}function Uu(e,t){var n,r,i,s,o,p=t.wheelDeltaX,d=t.wheelDeltaY;p==z&&t.detail&&t.axis==t.HORIZONTAL_AXIS&&(p=t.detail);d==z&&t.detail&&t.axis==t.VERTICAL_AXIS?d=t.detail:d==z&&(d=t.wheelDelta);if(d&&Lo&&go)for(n=t.target;n!=r;n=n[Mn])if(n[Br]){e[U][fr]=n;break}r=e[U][J];if(p&&!ho&&!wo&&h!=z){d&&qu(e,Math.max(0,Math.min(r[G]+d*h,r[Nr]-r[pt])));Ru(e,Math.max(0,Math.min(r[Z]+p*h,r[rr]-r[it])));Ef(t);l=z;return}if(d&&h!=z){i=d*h;s=e[V][G],o=s+e[U][tt][pt];i<0?s=Math.max(0,s+i-50):o=Math.min(e[V].doc[ht],o+i+50);Ko(e,[],{top:s,bottom:o})}if(u<20)if(l==z){l=r[Z];c=r[G];a=p;f=d;setTimeout(function(){var e,t,n;if(l==z)return;e=r[Z]-l;t=r[G]-c;n=t&&f&&t/f||e&&a&&e/a;l=c=z;if(!n)return;h=(h*u+n)/(u+1);++u},200)}else{a+=p;f+=d}}function zu(e,t,n){var r,i;if(typeof t==vt){t=x[t];if(!t)return $}e[U][_n]&&Au(e)&&(e[U][_n]=$);r=e[V],i=r.sel[jr];try{_u(e)&&(r[cr]=X);n&&(r.sel[jr]=$);t(e)}catch(s){if(s!=L)throw s;return $}finally{r.sel[jr]=i;r[cr]=$}return X}function Wu(e){var t=e[V].keyMaps[Kt](0);t[Dt](e[W][ti]);e[W][Gi]&&t.unshift(e[W][Gi]);return t}function Xu(e,n){function f(){s=X}var r,i,s,o,u=Na(e[W][ti]),a=u.auto;clearTimeout(p);a&&!ka(n)&&(p=setTimeout(function(){Na(e[W][ti])==u&&(e[W][ti]=a.call?a.call(z,e):a)},50));r=I[Cf(n,Cn)],i=$;if(r==z||n.altGraphKey)return $;Cf(n,"altKey")&&(r="Alt-"+r);Cf(n,t?Pi:ei)&&(r="Ctrl-"+r);Cf(n,t?ei:Pi)&&(r="Cmd-"+r);s=$;o=Wu(e);Cf(n,bi)?i=Ca("Shift-"+r,o,function(t){return zu(e,t,X)},f)||Ca(r,o,function(t){if(typeof t==vt&&/^go[A-Z]/[xt](t))return zu(e,t)},f):i=Ca(r,o,function(t){return zu(e,t)},f);s&&(i=$);if(i){Ef(n);su(e);if(mo){n.oldKeyCode=n[Cn];n[Cn]=0}}return i}function Vu(e,t,n){var r=Ca("'"+n+"'",Wu(e),function(t){return zu(e,t,X)});if(r){Ef(t);su(e)}return r}function $u(e){var t,n,r=this;r[V][sn]||Ku(r);po&&e[Cn]==27&&(e.returnValue=$);if(r[W][gn]&&r[W][gn](r,wf(e)))return;t=Cf(e,Cn);r[V].sel[jr]=t==16||Cf(e,bi);n=Xu(r,e);if(wo){d=n?t:z;!n&&t==88&&!F&&Cf(e,Lo?Pi:ei)&&r[on]("")}}function Ju(e){var t,n,r,i=this;if(i[W][gn]&&i[W][gn](i,wf(e)))return;t=Cf(e,Cn),n=Cf(e,"charCode");if(wo&&t==d){d=z;Ef(e);return}if((wo&&(!e.which||e.which<10)||So)&&Xu(i,e))return;r=String.fromCharCode(n==z?t:n);this[W][tr]&&this[V][gr][tr]&&this[W][yi]&&!_u(this)&&this[V][gr][tr][Fr](r)>-1&&setTimeout(Nu(i,function(){ga(i,i[V].sel.to[ft],Xr)}),75);if(Vu(i,e,r))return;Lu(i)}function Ku(e){if(e[W][er]==vi)return;if(!e[V][sn]){Af(e,fs,e);e[V][sn]=X;e[U][J][ot].search(/\bCodeMirror-focused\b/)==-1&&(e[U][J][ot]+=Qr);Ou(e,X)}ku(e);su(e)}function Qu(e){if(e[V][sn]){Af(e,"blur",e);e[V][sn]=$;e[U][J][ot]=e[U][J][ot][On](Qr,"")}clearInterval(e[U].blinker);setTimeout(function(){e[V][sn]||(e[V].sel[jr]=$)},150)}function Gu(e,t){function u(){var t,r;o[Sn][et][ai]=Js;o[ut][et][Ws]=s;mo&&(o[rt][G]=o[J][G]=i);ku(e);if(o[ut][wn]!=z){clearTimeout(v);t=o[ut][pn]=Ns+(ra(n[lt],n.to)?"":o[ut][pn]),r=0;o[tn]=Ns;o[ut][wn]=1;o[ut][Ci]=t[R];v=setTimeout(function u(){o[tn]==Ns&&o[ut][wn]==0?Nu(e,x[Oi])(e):r++<10?v=setTimeout(u,500):Ou(e)},200)}}var n,r,i,s,o=e[U];if(Pu(o,t))return;n=e[V].sel;r=Hu(e,t),i=o[J][G];if(!r||wo)return;(ra(n[lt],n.to)||ia(r,n[lt])||!ia(r,n.to))&&Nu(e,la)(e,r,r);s=o[ut][et][Ws];o[Sn][et][ai]=hi;o[ut][et][Ws]="position: fixed; width: 30px; height: 30px; top: "+(t[zr]-5)+"px; left: "+(t[Hi]-5)+"px; z-index: 1000; background: white; outline: none;"+"border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);";Mu(e);Ou(e,X);ra(n[lt],n.to)&&(o[ut][pn]=o[tn]=Ns);if(ho){xf(t);kf(window,bn,function a(){Lf(window,bn,a);setTimeout(u,20)})}else setTimeout(u,50)}function Yu(e,t,r,i,s,o){var u,a=n&&ja(e[V].doc,t,r);if(!a)return Zu(e,t,r,i,s,o);for(u=a[R]-1;u>=1;--u)Zu(e,a[u][lt],a[u].to,[""],o);if(a[R])return Zu(e,a[0][lt],a[0].to,i,s,o)}function Zu(e,t,n,r,i,s){var o,u,a,f,l,c,h;if(e[V][cr])return;o=e[V],u=o.doc,a=[];u[xi](t[ft],n[ft]+1,function(e){a[Dt](Va(e[Lt],e[Y]))});f=o.sel[lt],l=o.sel.to;c=Ba(Xa(a[0]),Xa(Hf(a)),t.ch,n.ch,r);h=ta(e,t,n,c,i,s);o[qt]&&yf(e,t[ft],r[R],a,s,f,l,o.sel[lt],o.sel.to);return h}function ea(e,t){var n,r,i,s,o,u,a=e[V].doc,f=e[V][qt],l=(t==Ir?f[no]:f[Zr]).pop();if(!l)return;n={events:[],fromBefore:l[Bs],toBefore:l.toAfter,fromAfter:l[as],toAfter:l[co]};for(r=l[Xi][R]-1;r>=0;r-=1){f[yn]+=t==Ir?-1:1;i=l[Xi][r];s=[],o=i[qn]+i.added;a[xi](i[qn],o,function(e){s[Dt](Va(e[Lt],e[Y]))});n[Xi][Dt]({start:i[qn],added:i.old[R],old:s});u=r?z:{from:l[as],to:l[co]};ta(e,{line:i[qn],ch:0},{line:o-1,ch:cf(a,o-1)[Lt][R]},i.old,u,t)}(t==Ir?f[Zr]:f[no])[Dt](n)}function ta(e,t,n,r,i,s){var o,u,a,f,l,c,h,p,d,v,m,g,y,b,w,E,S,x,T=e[V],N=T.doc,C=e[U];if(T[cr])return;o=n[ft]-t[ft],u=cf(N,t[ft]),a=cf(N,n[ft]);f=$,l=t[ft];if(!e[W][Mt]){l=pf(Ra(N,u));N[xi](l,n[ft]+1,function(e){if(qo(N,e)==T[ln]){f=X;return X}})}c=Hf(r),h=Eu(C);if(t.ch==0&&n.ch==0&&Wa(c)==""){p=[];for(d=0,v=r[R]-1;d<v;++d)p[Dt](Ka(Wa(r[d]),Xa(r[d]),h));Qa(e,a,a[Lt],Xa(c));o&&N.remove(t[ft],o,e);p[R]&&N.insert(t[ft],p)}else if(u==a)if(r[R]==1)Qa(e,u,u[Lt][Kt](0,t.ch)+Wa(r[0])+u[Lt][Kt](n.ch),Xa(r[0]));else{for(p=[],d=1,v=r[R]-1;d<v;++d)p[Dt](Ka(Wa(r[d]),Xa(r[d]),h));p[Dt](Ka(Wa(c)+u[Lt][Kt](n.ch),Xa(c),h));Qa(e,u,u[Lt][Kt](0,t.ch)+Wa(r[0]),Xa(r[0]));N.insert(t[ft]+1,p)}else if(r[R]==1){Qa(e,u,u[Lt][Kt](0,t.ch)+Wa(r[0])+a[Lt][Kt](n.ch),Xa(r[0]));N.remove(t[ft]+1,o,e)}else{p=[];Qa(e,u,u[Lt][Kt](0,t.ch)+Wa(r[0]),Xa(r[0]));Qa(e,a,Wa(c)+a[Lt][Kt](n.ch),Xa(c));for(d=1,v=r[R]-1;d<v;++d)p[Dt](Ka(Wa(r[d]),Xa(r[d]),h));o>1&&N.remove(t[ft]+1,o-1,e);N.insert(t[ft]+1,p)}if(e[W][Mt]){m=Math.max(5,C[J][it]/Su(C)-3);N[xi](t[ft],t[ft]+r[R],function(e){var t;if(e[ht]==0)return;t=(Math.ceil(e[Lt][R]/m)||1)*h;t!=e[ht]&&hf(e,t)})}else{N[xi](l,t[ft]+r[R],function(e){var t=qo(N,e);if(t>T[ln]){T[li]=e;T[ln]=t;T[En]=X;f=$}});f&&(e[Rn][uo]=X)}T[$t]=Math.min(T[$t],t[ft]);ou(e,400);g=r[R]-o-1;Cu(e,t[ft],n[ft]+1,g);if(Mf(e,ts)){for(d=0;d<r[R];++d)typeof r[d]!=vt&&(r[d]=r[d][Lt]);y={from:t,to:n,text:r,origin:s};if(e[Rn][sr]){for(b=e[Rn][sr];b.next;b=b.next);b.next=y}else e[Rn][sr]=y}S={line:t[ft]+r[R]-1,ch:Wa(c)[R]+(r[R]==1?t.ch:0)};if(i&&typeof i!=vt)if(i[lt]){w=i[lt];E=i.to}else w=E=i;else if(i==Ai)w=E=S;else if(i==qn)w=E=t;else if(i=="around"){w=t;E=S}else{x=function(e){if(ia(e,t))return e;if(!ia(n,e))return S;var r=e[ft]+g,i=e.ch;e[ft]==n[ft]&&(i+=Wa(c)[R]-(n.ch-(n[ft]==t[ft]?t.ch:0)));return{line:r,ch:i}};w=x(T.sel[lt]);E=x(T.sel.to)}la(e,w,E,z,X);return S}function na(e,t,n,r,i){var s;r||(r=n);if(ia(r,n)){s=r;r=n;n=s}return Yu(e,n,r,B(t),z,i)}function ra(e,t){return e[ft]==t[ft]&&e.ch==t.ch}function ia(e,t){return e[ft]<t[ft]||e[ft]==t[ft]&&e.ch<t.ch}function sa(e){return{line:e[ft],ch:e.ch}}function oa(e,t){return Math.max(0,Math.min(t,e[zn]-1))}function ua(e,t){var n,r;if(t[ft]<0)return{line:0,ch:0};if(t[ft]<e[zn]){n=t.ch,r=cf(e,t[ft])[Lt][R];return n==z||n>r?{line:t[ft],ch:r}:n<0?{line:t[ft],ch:0}:t}return{line:e[zn]-1,ch:cf(e,e[zn]-1)[Lt][R]}}function aa(e,t){return t>=0&&t<e[zn]}function fa(e,t,n,r){var i,s,o=e[V].sel;if(o[jr]||o.extend){i=o[Ni];if(n){s=ia(t,i);if(s!=ia(n,i)){i=t;t=n}else s!=ia(t,n)&&(t=n)}la(e,i,t,r)}else la(e,t,n||t,r);e[Rn][ui]=X}function la(e,t,n,r,i){var s,o;e[V][ni]=z;s=e[V].sel;if(i||!ra(t,s[Ni]))t=ha(e,t,r,i!=Dt);if(i||!ra(n,s[$i]))n=ha(e,n,r,i!=Dt);if(ra(s[Ni],t)&&ra(s[$i],n))return;s[Ni]=t;s[$i]=n;o=ia(n,t);s[lt]=o?n:t;s.to=o?t:n;e[Rn][Wr]=X;e[Rn][un]=X}function ca(e){la(e,e[V].sel[lt],e[V].sel.to,z,Dt)}function ha(e,t,n,r){var i,s,o,u,a,f,l=e[V].doc,c=$,h=t,p=n||1;e[V][oi]=$;e:for(;;){i=cf(l,h[ft]);if(i[Y]){for(o=0;o<i[Y][R];++o){u=i[Y][o],a=u[Ot];if((u[lt]==z||(a[fn]?u[lt]<=h.ch:u[lt]<h.ch))&&(u.to==z||(a[en]?u.to>=h.ch:u.to>h.ch))){if(r&&a.clearOnEnter){(s||(s=[]))[Dt](a);continue}if(!a.atomic)continue;f=a[pi]()[p<0?lt:"to"];if(ra(f,h)){f.ch+=p;f.ch<0?f[ft]?f=ua(l,{line:f[ft]-1}):f=z:f.ch>i[Lt][R]&&(f[ft]<l[zn]-1?f={line:f[ft]+1,ch:0}:f=z);if(!f){if(c){if(!r)return ha(e,t,n,X);e[V][oi]=X;return{line:0,ch:0}}c=X;f=t;p=-p}}h=f;continue e}}if(s)for(o=0;o<s[R];++o)s[o].clear()}return h}}function pa(e){var t,n,r,i,s=e[V],o=da(e,s.sel[$i]);if(!s[sn])return;t=e[U],n=t[dr][Q](),r=z;o.top+n.top<0?r=X:o[Ft]+n.top>(window.innerHeight||document[Wn][pt])&&(r=$);if(r!=z&&!No){i=t[_t][et][U]==Kn;if(i){t[_t][et][U]="";t[_t][et][xn]=o[xn]+Bt;t[_t][et].top=o.top-t[zt]+Bt}t[_t].scrollIntoView(r);i&&(t[_t][et][U]=Kn)}}function da(e,t){var n,r,i,s,o;for(;;){n=$,r=yu(e,t);i=ma(e,r[xn],r.top,r[xn],r[Ft]);s=e[V][G],o=e[V][Z];if(i[G]!=z){qu(e,i[G]);Math.abs(e[V][G]-s)>1&&(n=X)}if(i[Z]!=z){Ru(e,i[Z]);Math.abs(e[V][Z]-o)>1&&(n=X)}if(!n)return r}}function va(e,t,n,r,i){var s=ma(e,t,n,r,i);s[G]!=z&&qu(e,s[G]);s[Z]!=z&&Ru(e,s[Z])}function ma(e,t,n,r,i){var s,o,u,a,f,l,c,h,p,d,v=e[U],m=lu(v);n+=m;i+=m;s=v[J][pt]-k,o=v[J][G],u={};a=e[V].doc[ht]+2*m;f=n<m+10,l=i+m>a-10;n<o?u[G]=f?0:Math.max(0,n):i>o+s&&(u[G]=(l?a:i)-s);c=v[J][it]-k,h=v[J][Z];t+=v[yt][st];r+=v[yt][st];p=v[yt][st];d=t<p+10;if(t<h+p||d){d&&(t=0);u[Z]=Math.max(0,t-10-p)}else r>c+h-3&&(u[Z]=r+10-c);return u}function ga(e,t,n,r){var i,s,o,u,a,f,l,c,h,p=e[V].doc;n||(n=Ji);n==Xr&&(e[V][gr].indent?i=fu(e,t):n=Vi);s=e[W][Bn];o=cf(p,t),u=Df(o[Lt],z,s);a=o[Lt].match(/^\s*/)[0];if(n==Xr){f=e[V][gr].indent(i,o[Lt][Kt](a[R]),o[Lt]);if(f==L){if(!r)return;n=Vi}}n==Vi?t?f=Df(cf(p,t-1)[Lt],z,s):f=0:n==Ji?f=u+e[W][Mi]:n==gi&&(f=u-e[W][Mi]);f=Math.max(0,f);l="",c=0;if(e[W][os])for(h=Math.floor(f/s);h;--h){c+=s;l+="	"}c<f&&(l+=Pf(f-c));l!=a&&na(e,l,{line:t,ch:0},{line:t,ch:a[R]},ut);o[jt]=z}function ya(e,t,n){var r=t,i=t,s=e[V].doc;typeof t==nr?i=cf(s,oa(s,t)):r=pf(t);if(r==z)return z;if(!n(i,r))return z;Cu(e,r,r+1);return i}function ba(e,t,n,r){function l(){var e=u+t;if(e<0||e==s[zn])return $;u=e;return f=cf(s,e)}function c(e){var n=(r?tl:nl)(f,a,t,X);if(n==z){if(!!e||!l())return $;r?a=(t<0?Yf:Gf)(f):a=t<0?f[Lt][R]:0}else a=n;return X}var i,s=e[V].doc,o=e[V].sel[$i],u=o[ft],a=o.ch,f=cf(s,u);if(n==di)c();else if(n==ns)c(X);else if(n==mi){i=$;for(;;){if(t<0&&!c())break;if(qf(f[Lt][an](a)))i=X;else if(i){if(t<0){t=1;c()}break}if(t>0&&!c())break}}return ha(e,{line:u,ch:a},t,X)}function wa(e,t){var n,r,i=t.ch,s=t.ch;if(e){t.after===$||s==e[R]?--i:++s;n=e[an](i);r=qf(n)?qf:/\s/[xt](n)?function(e){return/\s/[xt](e)}:function(e){return!/\s/[xt](e)&&!qf(e)};while(i>0&&r(e[an](i-1)))--i;while(s<e[R]&&r(e[an](s)))++s}return{from:{line:t[ft],ch:i},to:{line:t[ft],ch:s}}}function Ea(e,t){fa(e,{line:t,ch:0},ua(e[V].doc,{line:t+1,ch:0}))}function Sa(e,t,n,r){Mo[es][e]=t;n&&(m[e]=r?function(e,t,r){r!=y&&n(e,t,r)}:n)}function xa(e,t){var n,r,i;if(t===X)return t;if(e[_s])return e[_s](t);n={};for(r in t){i=t[r];i instanceof Array&&(i=i[Ms]([]));n[r]=i}return n}function Ta(e,t,n){return e[Yn]?e[Yn](t,n):X}function Na(e){return typeof e==vt?T[e]:e}function Ca(e,t,n,r){function s(t){var i,o
,u,a;t=Na(t);i=t[e];if(i===$){r&&r();return X}if(i!=z&&n(i))return X;if(t.nofallthrough){r&&r();return X}o=t.fallthrough;if(o==z)return $;if(Object[Ht].toString.call(o)!="[object Array]")return s(o);for(u=0,a=o[R];u<a;++u)if(s(o[u]))return X;return $}var i;for(i=0;i<t[R];++i)if(s(t[i]))return X}function ka(e){var t=I[Cf(e,Cn)];return t=="Ctrl"||t=="Alt"||t=="Shift"||t==Xs}function La(e,t){this.pos=this[qn]=0;this[vt]=e;this[Bn]=t||8}function Aa(e,t){this[Wt]=[];this.type=t;this.cm=e}function Oa(e,t,i,s,o){var u,a,f,l,c,h=e[V].doc,p=new Aa(e,o);if(o=="range"&&!ia(t,i))return p;if(s)for(u in s)s[at](u)&&(p[u]=s[u]);if(p[rn]){p[Pt]=X;p[rn]=Uf(Tn,[p[rn]],"CodeMirror-widget")}p[Pt]&&(r=X);a=t[ft],f=0;h[xi](a,i[ft]+1,function(e){var n={from:z,to:z,marker:p};f+=e[Lt][R];if(a==t[ft]){n[lt]=t.ch;f-=t.ch}if(a==i[ft]){n.to=i.ch;f-=e[Lt][R]-i.ch}if(p[Pt]){a==i[ft]&&(c=Fa(e,i.ch));a==t[ft]?l=Fa(e,t.ch):hf(e,0)}Da(e,n);p[Pt]&&a==t[ft]&&Ua(e)&&hf(e,0);++a});if(p[er]){n=X;(e[V][qt][no][R]||e[V][qt][Zr][R])&&e.clearHistory()}if(p[Pt]){if(l!=c)throw Error("Inserting collapsed marker overlapping an existing one");p[zn]=f;p.atomic=X}(p[ot]||p[ii]||p[zi]||p[Pt])&&Cu(e,t[ft],i[ft]+1);p.atomic&&ca(e);return p}function Ma(e,t){var n,r;if(e)for(n=0;n<e[R];++n){r=e[n];if(r[Ot]==t)return r}}function _a(e,t){var n,r;for(r=0;r<e[R];++r)e[r]!=t&&(n||(n=[]))[Dt](e[r]);return n}function Da(e,t){e[Y]=e[Y]?e[Y][Ms]([t]):[t];t[Ot][Wt][Dt](e)}function Pa(e,t){var n,r,i,s,o,u;if(e)for(n=0;n<e[R];++n){i=e[n],s=i[Ot];o=i[lt]==z||(s[fn]?i[lt]<=t:i[lt]<t);if(o||s.type==Qn&&i[lt]==t){u=i.to==z||(s[en]?i.to>=t:i.to>t);(r||(r=[]))[Dt]({from:i[lt],to:u?z:i.to,marker:s})}}return r}function Ha(e,t,n){var r,i,s,o,u,a;if(e)for(r=0;r<e[R];++r){s=e[r],o=s[Ot];u=s.to==z||(o[en]?s.to>=n:s.to>n);if(u||o.type==Qn&&s[lt]==n&&s[lt]!=t){a=s[lt]==z||(o[fn]?s[lt]<=n:s[lt]<n);(i||(i=[]))[Dt]({from:a?z:s[lt]-n,to:s.to==z?z:s.to-n,marker:o})}}return i}function Ba(e,t,n,r,i){var s,o,u,a,f,l,c,h,p,d;if(!e&&!t)return i;s=Pa(e,n);o=Ha(t,n,r);u=i[R]==1,a=Hf(i)[R]+(u?n:0);if(s)for(f=0;f<s[R];++f){l=s[f];if(l.to==z){c=Ma(o,l[Ot]);c?u&&(l.to=c.to==z?z:c.to+a):l.to=n}}if(o)for(f=0;f<o[R];++f){l=o[f];l.to!=z&&(l.to+=a);if(l[lt]==z){c=Ma(s,l[Ot]);if(!c){l[lt]=a;u&&(s||(s=[]))[Dt](l)}}else{l[lt]+=a;u&&(s||(s=[]))[Dt](l)}}h=[Va(i[0],s)];if(!u){p=i[R]-2;if(p>0&&s)for(f=0;f<s[R];++f)s[f].to==z&&(d||(d=[]))[Dt]({from:z,to:z,marker:s[f][Ot]});for(f=0;f<p;++f)h[Dt](Va(i[f+1],d));h[Dt](Va(Hf(i),o))}return h}function ja(e,t,n){var r,i,s,o,u,a,f=z;e[xi](t[ft],n[ft]+1,function(e){var t,n;if(e[Y])for(t=0;t<e[Y][R];++t){n=e[Y][t][Ot];n[er]&&(!f||jf(f,n)==-1)&&(f||(f=[]))[Dt](n)}});if(!f)return z;r=[{from:t,to:n}];for(i=0;i<f[R];++i){s=f[i][pi]();for(o=0;o<r[R];++o){u=r[o];if(!ia(s[lt],u.to)||ia(s.to,u[lt]))continue;a=[o,1];ia(u[lt],s[lt])&&a[Dt]({from:u[lt],to:s[lt]});ia(s.to,u.to)&&a[Dt]({from:s.to,to:u.to});r[Yt][js](r,a);o+=a[R]-1}}return r}function Fa(e,t){var n,i,s,o=r&&e[Y];if(o)for(s=0;s<o[R];++s){i=o[s];if(!i[Ot][Pt])continue;(i[lt]==z||i[lt]<t)&&(i.to==z||i.to>t)&&(!n||n[Ur]<i[Ot][Ur])&&(n=i[Ot])}return n}function Ia(e){return Fa(e,-1)}function qa(e){return Fa(e,e[Lt][R]+1)}function Ra(e,t){var n;while(n=Ia(t))t=cf(e,n[pi]()[lt][ft]);return t}function Ua(e){var t,n,i=r&&e[Y];if(i)for(n=0;n<i[R];++n){t=i[n];if(!t[Ot][Pt])continue;if(t[lt]==z)return X;if(t[lt]==0&&t[Ot][fn]&&za(e,t))return X}}function za(e,t){var n,r;if(t.to==z||t[Ot][en]&&t.to==e[Lt][R])return X;for(r=0;r<e[Y][R];++r){n=e[Y][r];if(n[Ot][Pt]&&n[lt]==t.to&&(n[Ot][fn]||t[Ot][en])&&za(e,n))return X}}function Wa(e){return typeof e==vt?e:e[Lt]}function Xa(e){var t,n,r;if(typeof e==vt)return z;t=e[Y],n=z;for(r=0;r<t[R];++r)t[r][Ot][yr]?n||(n=t[Kt](0,r)):n&&n[Dt](t[r]);return n?n[R]?n:z:t}function Va(e,t){return t?{text:e,markedSpans:t}:e}function $a(e){var t,n,r,i=e[Y];if(!i)return;for(t=0;t<i[R];++t){n=i[t][Ot][Wt];r=jf(n,e);n[Yt](r,1)}e[Y]=z}function Ja(e,t){var n;if(!t)return;for(n=0;n<t[R];++n)t[n][Ot][Wt][Dt](e);e[Y]=t}function Ka(e,t,n){var r={text:e,height:n};Ja(r,t);Ua(r)&&(r[ht]=0);return r}function Qa(e,t,n,r){t[Lt]=n;t[jt]&&(t[jt]=z);t[xr]&&(t[xr]=z);t.order!=z&&(t.order=z);$a(t);Ja(t,r);Ua(t)?t[ht]=0:t[ht]||(t[ht]=Eu(e[U]));Of(e,t,ts)}function Ga(e){e[It]=z;$a(e)}function Ya(e,t,n,r,i){var s,o,u=e[W][qs],a="",f=z,l=new La(t,e[W][Bn]);t==""&&n[Li]&&n[Li](r);while(!l.eol()){s=n.token(l,r);if(l.pos>5e3){l.pos=Math.min(t[R],l.pos+5e4);s=z}o=l.current();l[qn]=l.pos;if(!u||f!=s){a&&i(a,f);a=o;f=s}else a+=o}a&&i(a,f)}function Za(e,t,n){var r,i,s,o=[e[V][ji]];Ya(e,t[Lt],e[V][gr],n,function(e,t){o[Dt](e,t)});for(r=0;r<e[V][Wi][R];++r){i=e[V][Wi][r],s=1;Ya(e,t[Lt],i[gr],X,function(e,t){var n,r,u=s,a=e[R];while(a){n=o[s],r=n[R];if(r>a){o[Yt](s,1,n[Kt](0,a),o[s+1],n[Kt](a));a=0}else a-=r;s+=2}if(!t)return;if(i.opaque){o[Yt](u,s-u,e,t);s=u+2}else for(;u<s;u+=2){n=o[u+1];o[u+1]=n?n+Ns+t:t}})}return o}function ef(e,t){if(!t[xr]||t[xr][0]!=e[V][ji])t[xr]=Za(e,t,t[jt]=fu(e,pf(t)));return t[xr]}function tf(e,t,n){var r=e[V][gr],i=new La(t[Lt],e[W][Bn]);t[Lt]==""&&r[Li]&&r[Li](n);while(!i.eol()&&i.pos<=5e3){r.token(i,n);i[qn]=i.pos}}function nf(e){return e?N[e]||(N[e]="cm-"+e[On](/ +/g," cm-")):z}function rf(e,t,n){var r,i,s,o,u,a=t,f=X;while(r=Ia(a)){f=$;a=cf(e[V].doc,r[pi]()[lt][ft]);i||(i=a)}o={pre:Uf(Qi),col:0,pos:0,display:!n,measure:z,addedOne:$,cm:e};a[ar]&&(o[Qi][ot]=a[ar]);do{o[Et]=a==t&&n;o.pos=0;o[so]=o[Et]?of:sf;if(n&&s&&a!=t&&!o[ci]){n[0]=o[Qi][K]($f(e[U][Et]));o[ci]=X}u=af(a,o,ef(e,a));s=a==i;if(u){a=cf(e[V].doc,u.to[ft]);f=$}}while(u);n&&!o[ci]&&(n[0]=o[Qi][K](f?Uf(Tn," "):$f(e[U][Et])));!o[Qi][Nt]&&!Ua(t)&&o[Qi][K](document[Rt](" "));return o[Qi]}function sf(e,t,n,r,i){var s,o,u,a,f,l,c,h;if(!t)return;if(!C[xt](t)){e.col+=t[R];s=document[Rt](t)}else{s=document[Un](),o=0;while(X){C.lastIndex=o;u=C.exec(t);a=u?u.index-o:t[R]-o;if(a){s[K](document[Rt](t[Kt](o,o+a)));e.col+=a}if(!u)break;o+=a+1;if(u[0]=="	"){f=e.cm[W][Bn],l=f-e.col%f;s[K](Uf(Tn,Pf(l),"cm-tab"));e.col+=l}else{c=Uf(Tn,"•","cm-invalidchar");c.title="\\u"+u[0].charCodeAt(0).toString(16);s[K](c);e.col+=1}}}if(n||r||i||e[Et]){h=n||"";r&&(h+=r);i&&(h+=i);return e[Qi][K](Uf(Tn,[s],h))}e[Qi][K](s)}function of(e,t,n,r,i){var s;for(s=0;s<t[R];++s){s&&s<t[R]&&e.cm[W][Mt]&&D[xt](t[Kt](s-1,s+1))&&e[Qi][K](Uf("wbr"));e[Et][e.pos++]=sf(e,t[an](s),n,s==0&&r,s==t[R]-1&&i)}t[R]&&(e[ci]=X)}function uf(e,t,n){if(n){e[U]||(n=n.cloneNode(X));e[Qi][K](n);if(e[Et]&&t){e[Et][e.pos]=n;e[ci]=X}}e.pos+=t}function af(e,t,n){var r,i,s,o,u,a,f,l,c,h,p,d,v,m,g,y,b,w,E=e[Y];if(!E){for(r=1;r<n[R];r+=2)t[so](t,n[r],nf(n[r+1]));return}i=e[Lt],s=i[R];o=0,r=1,u="";f=0;for(;;){if(f==o){l=c=h="";p=z;f=Infinity;d=z;for(v=0;v<E[R];++v){m=E[v],g=m[Ot];if(m[lt]>o||m.to!=z&&m.to<=o)m[lt]>o&&f>m[lt]&&(f=m[lt]);else{if(m.to!=z&&f>m.to){f=m.to;c=""}g[ot]&&(l+=Ns+g[ot]);g[ii]&&m[lt]==o&&(h+=Ns+g[ii]);g[zi]&&m.to==f&&(c+=Ns+g[zi]);g[Pt]&&(!p||p[Ot][Ur]<g[Ur])&&(p=m)}g.type==Qn&&m[lt]==o&&g[rn]&&(d=g[rn])}if(p&&(p[lt]||0)==o){uf(t,(p.to==z?s:p.to)-o,p[lt]!=z&&p[Ot][rn]);if(p.to==z)return p[Ot][pi]()}d&&!p&&uf(t,0,d)}if(o>=s)break;y=Math.min(s,f);while(X){if(u){b=o+u[R];if(!p){w=b>y?u[Kt](0,y-o):u;t[so](t,w,a+l,h,o+w[R]==f?c:"")}if(b>=y){u=u[Kt](y-o);o=y;break}o=b;h=""}u=n[r++];a=nf(n[r++])}}}function ff(e){var t,n,r;this[Wt]=e;this[It]=z;for(t=0,n=e[R],r=0;t<n;++t){e[t][It]=this;r+=e[t][ht]}this[ht]=r}function lf(e){var t,n,r,i,s;this[dt]=e;t=0,n=0;for(r=0,i=e[R];r<i;++r){s=e[r];t+=s[$n]();n+=s[ht];s[It]=this}this[zn]=t;this[ht]=n;this[It]=z}function cf(e,t){var n,r,i;while(!e[Wt])for(n=0;;++n){r=e[dt][n],i=r[$n]();if(t<i){e=r;break}t-=i}return e[Wt][t]}function hf(e,t){var n,r=t-e[ht];for(n=e;n;n=n[It])n[ht]+=r}function pf(e){var t,n,r,i;if(e[It]==z)return z;t=e[It],n=jf(t[Wt],e);for(r=t[It];r;t=r,r=r[It])for(i=0;;++i){if(r[dt][i]==t)break;n+=r[dt][i][$n]()}return n}function df(e,t){var n,r,i,s,o,u,a=0;e:do{for(n=0,r=e[dt][R];n<r;++n){i=e[dt][n],s=i[ht];if(t<s){e=i;continue e}t-=s;a+=i[$n]()}return a}while(!e[Wt]);for(n=0,r=e[Wt][R];n<r;++n){o=e[Wt][n],u=o[ht];if(t<u)break;t-=u}return a+n}function vf(e,t){var n,r,i,s,o,u;t=Ra(e[V].doc,t);n=0,r=t[It];for(i=0;i<r[Wt][R];++i){s=r[Wt][i];if(s==t)break;n+=s[ht]}for(o=r[It];o;r=o,o=r[It])for(i=0;i<o[dt][R];++i){u=o[dt][i];if(u==r)break;n+=u[ht]}return n}function mf(e){var t=e.order;t==z&&(t=e.order=q(e[Lt]));return t}function gf(){return{done:[],undone:[],lastTime:0,lastOp:z,lastOrigin:z,dirtyCounter:0}}function yf(e,t,n,r,i,s,o,u,a){var f,l,c,h,p,d,v=e[V][qt];v[Zr][R]=0;f=+(new Date),l=Hf(v[no]);if(l&&(v.lastOp==e[Rn].id||v[us]==i&&(i==ut||i==In)&&v.lastTime>f-600)){c=Hf(l[Xi]);if(c[qn]>t+r[R]||c[qn]+c.added<t)l[Xi][Dt]({start:t,added:n,old:r});else{h=Math.max(0,c[qn]-t),p=Math.max(0,t+r[R]-(c[qn]+c.added));for(d=h;d>0;--d)c.old.unshift(r[d-1]);for(d=p;d>0;--d)c.old[Dt](r[r[R]-d]);h&&(c[qn]=t);c.added+=n-(r[R]-h-p)}l[Bs]=u;l.toAfter=a}else{l={events:[{start:t,added:n,old:r}],fromBefore:s,toBefore:o,fromAfter:u,toAfter:a};v[no][Dt](l);while(v[no][R]>e[W].undoDepth)v[no][jr]();v[yn]<0?v[yn]=NaN:v[yn]++}v.lastTime=f;v.lastOp=e[Rn].id;v[us]=i}function bf(){xf(this)}function wf(e){e.stop||(e.stop=bf);return e}function Ef(e){e[Ks]?e[Ks]():e.returnValue=$}function Sf(e){e[Ps]?e[Ps]():e.cancelBubble=X}function xf(e){Ef(e);Sf(e)}function Tf(e){return e.target||e.srcElement}function Nf(e){var t=e.which;t==z&&(e.button&1?t=1:e.button&2?t=3:e.button&4&&(t=2));Lo&&e[ei]&&t==1&&(t=3);return t}function Cf(e,t){var n=e[io]&&e[io][at](t);return n?e[io][t]:e[t]}function kf(e,t,n){var r,i;if(e[vs])e[vs](t,n,$);else if(e.attachEvent)e.attachEvent("on"+t,n);else{r=e[nn]||(e[nn]={});i=r[t]||(r[t]=[]);i[Dt](n)}}function Lf(e,t,n){var r,i;if(e[Bi])e[Bi](t,n,$);else if(e.detachEvent)e.detachEvent("on"+t,n);else{r=e[nn]&&e[nn][t];if(!r)return;for(i=0;i<r[R];++i)if(r[i]==n){r[Yt](i,1);break}}}function Af(e,t){var n,r,i=e[nn]&&e[nn][t];if(!i)return;n=Array[Ht][Kt].call(arguments,2);for(r=0;r<i[R];++r)i[r][js](z,n)}function Of(e,t,n){function u(e){return function(){e[js](z,r)}}var r,i,s,o=t[nn]&&t[nn][n];if(!o)return;r=Array[Ht][Kt].call(arguments,3),i=e[Rn]&&e[Rn][Lr];for(s=0;s<o[R];++s)i?i[Dt](u(o[s])):o[s][js](z,r)}function Mf(e,t){var n=e[nn]&&e[nn][t];return n&&n[R]>0}function _f(){this.id=z}function Df(e,t,n){var r,i;if(t==z){t=e.search(/[^\s\u00a0]/);t==-1&&(t=e[R])}for(r=0,i=0;r<t;++r)e[an](r)=="	"?i+=n-i%n:++i;return i}function Pf(e){while(A[R]<=e)A[Dt](Hf(A)+Ns);return A[e]}function Hf(e){return e[e[R]-1]}function Bf(e){if(Co){e[wn]=0;e[Ci]=e[pn][R]}else e.select()}function jf(e,t){var n,r;if(e[Fr])return e[Fr](t);for(n=0,r=e[R];n<r;++n)if(e[n]==t)return n;return-1}function Ff(e){var t,n;for(t=[],n=0;n<e;++n)t[Dt](undefined);return t}function If(e){var t=Array[Ht][Kt].call(arguments,1);return function(){return e[js](z,t)}}function qf(e){return/\w/[xt](e)||e>""&&(e.toUpperCase()!=e.toLowerCase()||O[xt](e))}function Rf(e){var t,n=0;for(t in e)e[at](t)&&e[t]&&++n;return!n}function Uf(e,t,n,r){var i,s=document.createElement(e);n&&(s[ot]=n);r&&(s[et][Ws]=r);if(typeof t==vt)Xf(s,t);else if(t)for(i=0;i<t[R];++i)s[K](t[i]);return s}function zf(e){e.innerHTML="";return e}function Wf(e,t){return zf(e)[K](t)}function Xf(e,t){if(mo){e.innerHTML="";e[K](document[Rt](t))}else e.textContent=t}function Vf(e){var t;if(P!=z)return P;t=Uf(nt,z,z,"width: 50px; height: 50px; overflow-x: scroll");Wf(e,t);t[st]&&(P=t[mt]-t[pt]);return P||0}function $f(e){var t;if(H==z){t=Uf(Tn,"​");Wf(e,Uf(Tn,[t,document[Rt]("x")]));e[Nt][mt]!=0&&(H=t[st]<=1&&t[mt]>2&&!vo)}return H?Uf(Tn,"​"):Uf(Tn," ",z,"display: inline-block; width: 1px; margin-right: -1px")}function Jf(e,t,n,r){var i,s;if(!e)return r(t,n,"ltr");for(i=0;i<e[R];++i){s=e[i];(s[lt]<n&&s.to>t||t==n&&s.to==t)&&r(Math.max(s[lt],t),Math.min(s.to,n),s[dn]==1?"rtl":"ltr")}}function Kf(e){return e[dn]%2?e.to:e[lt]}function Qf(e){return e[dn]%2?e[lt]:e.to}function Gf(e){var t=mf(e);return t?Kf(t[0]):0}function Yf(e){var t=mf(e);return t?Qf(Hf(t)):e[Lt][R]}function Zf(e,t){var n,r,i=cf(e[V].doc,t),s=Ra(e[V].doc,i);s!=i&&(t=pf(s));n=mf(s);r=n?n[0][dn]%2?Yf(s):Gf(s):0;return{line:t,ch:r}}function el(e,t){var n,r,i,s;while(n=qa(r=cf(e[V].doc,t)))t=n[pi]().to[ft];i=mf(r);s=i?i[0][dn]%2?Gf(r):Yf(r):r[Lt][R];return{line:t,ch:s}}function tl(e,t,n,r){var i,s,o,u,a,f,l=mf(e);if(!l)return nl(e,t,n,r);i=r?function(t,n){do t+=n;while(t>0&&M[xt](e[Lt][an](t)));return t}:function(e,t){return e+t};s=l[0][dn];for(o=0;o<l[R];++o){u=l[o],a=u[dn]%2==s;if(u[lt]<t&&u.to>t||a&&(u[lt]==t||u.to==t))break}f=i(t,u[dn]%2?-n:n);while(f!=z)if(u[dn]%2==s){if(f>=u[lt]&&f<=u.to)break;u=l[o+=n];f=u&&(n>0==u[dn]%2?i(u.to,-1):i(u[lt],1))}else if(f==Kf(u)){u=l[--o];f=u&&Qf(u)}else{if(f!=Qf(u))break;u=l[++o];f=u&&Kf(u)}return f<0||f>e[Lt][R]?z:f}function nl(e,t,n,r){var i=t+n;if(r)while(i>0&&M[xt](e[Lt][an](i)))i+=n;return i<0||i>e[Lt][R]?z:i}var t,n,r,i,s,o,u,a,f,l,c,h,p,d,v,m,g,y,b,w,E,S,x,T,N,C,k,L,A,O,M,_,D,P,H,B,j,F,I,q,R="length",U="display",z=null,W="options",X=!0,V="view",$=!1,J="scroller",K="appendChild",Q="getBoundingClientRect",G="scrollTop",Y="markedSpans",Z="scrollLeft",et="style",tt="wrapper",nt="div",rt="scrollbarV",it="clientWidth",st="offsetWidth",ot="className",ut="input",at="hasOwnProperty",ft="line",lt="from",ct="scrollbarH",ht="height",pt="clientHeight",dt="children",vt="string",mt="offsetHeight",gt="showingFrom",yt="gutters",bt="userAgent",wt="showingTo",Et="measure",St="CodeMirror-linenumbers",xt="test",Tt="gutterMarkers",Nt="firstChild",Ct="otherCursor",kt="scrollbarFiller",Lt="text",At="lineNumbers",Ot="marker",Mt="lineWrapping",_t="cursor",Dt="push",Pt="collapsed",Ht="prototype",Bt="px",jt="stateAfter",Ft="bottom",It="parent",qt="history",Rt="createTextNode",Ut="cachedTextHeight",zt="viewOffset",Wt="lines",Xt="widgets",Vt="cachedCharWidth",$t="frontier",Jt="extendSelection",Kt="slice",Qt="activeElement",Gt="lineDiv",Yt="splice",Zt="lineNumInnerWidth",en="inclusiveRight",tn="prevInput",nn="_handlers",rn="replacedWith",sn="focused",on="replaceSelection",un="selectionChanged",an="charAt",fn="inclusiveLeft",ln="maxLineLength",cn="inaccurateSelection",hn="lineSpace",pn="value",dn="level",vn="CodeMirror-linenumber CodeMirror-gutter-elt",mn="draggingText",gn="onKeyEvent",yn="dirtyCounter",bn="mouseup",wn="selectionStart",En="maxLineChanged",Sn="inputDiv",xn="left",Tn="span",Nn="autofocus",Cn="keyCode",kn="getCursor",Ln="selectionDiv",An="setAttribute",On="replace",Mn="parentNode",_n="pollingFast",Dn="nextSibling",Pn="pasteIncoming",Hn=" CodeMirror-wrap",Bn="tabSize",jn="position: relative",Fn="delWordAfter",In="delete",qn="start",Rn="curOp",Un="createDocumentFragment",zn="size",Wn="documentElement",Xn="getSelection",Vn="indentSelection",$n="chunkSize",Jn="dataTransfer",Kn="none",Qn="bookmark",Gn="onDragEvent",Yn="startState",Zn="draggable",er="readOnly",tr="electricChars",nr="number",rr="scrollWidth",ir="measureLineCachePos",sr="textChanged",or="dragDrop",ur="right",ar="textClass",fr="currentWheelTarget",lr="goLineEnd",cr="suppressEdits",hr="submit",pr="wrapClass",dr="sizer",vr="position: absolute; left: ",mr="delWordBefore",gr="mode",yr="explicitlyCleared",br="paste",wr="lineGutter",Er="scroll",Sr="goDocEnd",xr="styles",Tr="replaceRange",Nr="scrollHeight",Cr="page",kr="lineNumWidth",Lr="delayedCallbacks",Ar="gutterTotalWidth",Or="measureLineCache",Mr="bgClass",_r="goWordRight",Dr="viewportMargin",Pr="goLineStart",Hr="px; width: ",Br="lineObj",jr="shift",Fr="indexOf",Ir="undo",qr=" CodeMirror-overwrite",Rr="alignable",Ur="width",zr="clientY",Wr="updateInput",Xr="smart",Vr="tabindex",$r="goWordLeft",Jr="showCursorWhenSelecting",Kr="goDocStart",Qr=" CodeMirror-focused",Gr="single",Yr="visibility",Zr="undone",ei="ctrlKey",ti="keyMap",ni="goalColumn",ri="mousedown",ii="startStyle",si="minWidth",oi="cantEdit",ui="userSelChange",ai="position",fi="redo",li="maxLine",ci="addedOne",hi="absolute",pi="find",di="char",vi="nocursor",mi="word",gi="subtract",yi="smartIndent",bi="shiftKey",wi="lineNumberFormatter",Ei="insertBefore",Si="lineNumChars",xi="iter",Ti="heightForcer",Ni="anchor",Ci="selectionEnd",ki="alignWidgets",Li="blankLine",Ai="end",Oi="selectAll",Mi="indentUnit",_i="default",Di="setValue",Pi="metaKey",Hi="clientX",Bi="removeEventListener",ji="modeGen",Fi="delCharBefore",Ii="resolveMode",qi="cursorBlinkRate",Ri="delCharAfter",Ui="firstLineNumber",zi="endStyle",Wi="overlays",Xi="events",Vi="prev",$i="head",Ji="add",Ki="rtlMoveVisually",Qi="pre",Gi="extraKeys",Yi="Delete",Zi="toggleOverwrite",es="defaults",ts="change",ns="column",rs="null",is="offsetLeft",ss="goCharRight",os="indentWithTabs",us="lastOrigin",as="fromBefore",fs="focus",ls="lineNumber",cs="childNodes",hs="gutterClick",ps="CodeMirror",ds="replaceAll",vs="addEventListener",ms="indentLess",gs="text/plain",ys="background",bs="goCharLeft",ws="indentMore",Es="goLineDown",Ss="goPageDown",xs="deleteLine",Ts="block",Ns=" ",Cs="mousemove",ks="oncopy",Ls="deleteH",As="getMode",Os="innerMode",Ms="concat",_s="copyState",Ds="cursorHeight",Ps="stopPropagation",Hs="noHScroll",Bs="fromAfter",js="apply",Fs="overwrite",Is="previousSibling",qs="flattenSpans",Rs="pollInterval",Us="lastSizeC",zs="offsetTop",Ws="cssText",Xs="Mod",Vs="drop",$s="function",Js="relative",Ks="preventDefault",Qs="findPrev",Gs="goLineUp",Ys="goPageUp",Zs="findNext",eo="PageDown",to="L",no="done",ro="other",io="override",so="addToken",oo="getLineHandle",uo="updateMaxLine",ao="moveH",fo="basic",lo="1",co="toBefore",ho=/gecko\/\d/i[xt](navigator[bt]),po=/MSIE \d/[xt](navigator[bt]),vo=/MSIE [1-7]\b/[xt](navigator[bt]),mo=/MSIE [1-8]\b/[xt](navigator[bt]),go=/WebKit\//[xt](navigator[bt]),yo=go&&/Qt\/\d+\.\d+/[xt](navigator[bt]),bo=/Chrome\//[xt](navigator[bt]),wo=/Opera\//[xt](navigator[bt]),Eo=/Apple Computer/[xt](navigator.vendor),So=/KHTML\//[xt](navigator[bt]),xo=/Mac OS X 1\d\D([7-9]|\d\d)\D/[xt](navigator[bt]),To=/Mac OS X 1\d\D([8-9]|\d\d)\D/[xt](navigator[bt]),No=/PhantomJS/[xt](navigator[bt]),Co=/AppleWebKit/[xt](navigator[bt])&&/Mobile\/\w+/[xt](navigator[bt]),ko=Co||/Android|webOS|BlackBerry|Opera Mini|IEMobile/i[xt](navigator[bt]),Lo=Co||/Mac/[xt](navigator.platform),Ao=/windows/i[xt](navigator.platform),Oo=wo&&navigator[bt].match(/Version\/(\d*\.\d*)/);Oo&&(Oo=Number(Oo[1]));t=Lo&&(yo||wo&&(Oo==z||Oo<12.11));n=$,r=$;u=0,h=z;po?h=-0.53:ho?h=15:bo?h=-0.7:Eo&&(h=-1/3);d=z;Mo[Ht]={getValue:function(e){var t=[],n=this[V].doc;n[xi](0,n[zn],function(e){t[Dt](e[Lt])});return t.join(e||"\n")},setValue:Nu(z,function(e){var t=this[V].doc,n={line:0,ch:0},r=cf(t,t[zn]-1)[Lt][R];Zu(this,n,{line:t[zn]-1,ch:r},B(e),n,n,Di)}),getSelection:function(e){return this.getRange(this[V].sel[lt],this[V].sel.to,e)},replaceSelection:Nu(z,function(e,t,n){var r=this[V].sel;Yu(this,r[lt],r.to,B(e),t||"around",n)}),focus:function(){window[fs]();Mu(this);Ku(this);Lu(this)},setOption:function(e,t){var n=this[W],r=n[e];if(n[e]==t&&e!=gr)return;n[e]=t;m[at](e)&&Nu(this,m[e])(this,t,r)},getOption:function(e){return this[W][e]},getMode:function(){return this[V][gr]},addKeyMap:function(e){this[V].keyMaps[Dt](e)},removeKeyMap:function(e){var t,n=this[V].keyMaps;for(t=0;t<n[R];++t)if((typeof e==vt?n[t].name:n[t])==e){n[Yt](t,1);return X}},addOverlay:Nu(z,function(e,t){var n=e.token?e:Mo[As](this[W],e);if(n[Yn])throw Error("Overlays may not be stateful.");this[V][Wi][Dt]({mode:n,modeSpec:e,opaque:t&&t.opaque});this[V][ji]++;Cu(this,0,this[V].doc[zn])}),removeOverlay:Nu(z,function(e){var t,n=this[V][Wi];for(t=0;t<n[R];++t)if(n[t].modeSpec==e){n[Yt](t,1);this[V][ji]++;Cu(this,0,this[V].doc[zn]);return}}),undo:Nu(z,function(){ea(this,Ir)}),redo:Nu(z,function(){ea(this,fi)}),indentLine:Nu(z,function(e,t,n){typeof t!=vt&&(t==z?t=this[W][yi]?Xr:Vi:t=t?Ji:gi);aa(this[V].doc,e)&&ga(this,e,t,n)}),indentSelection:Nu(z,function(e){var t,n,r=this[V].sel;if(ra(r[lt],r.to))return ga(this,r[lt][ft],e);t=r.to[ft]-(r.to.ch?0:1);for(n=r[lt][ft];n<=t;++n)ga(this,n,e)}),historySize:function(){var e=this[V][qt];return{undo:e[no][R],redo:e[Zr][R]}},clearHistory:function(){this[V][qt]=gf()},markClean:function(){this[V][qt][yn]=0;this[V][qt].lastOp=this[V][qt][us]=z},isClean:function(){return this[V][qt][yn]==0},getHistory:function(){function t(e){var t,n,r,i,s,o,u,a,f;for(t=0,n=[];t<e[R];++t){i=e[t];n[Dt]({events:r=[],fromBefore:i[as],toBefore:i[co],fromAfter:i[Bs],toAfter:i.toAfter});for(s=0,o=i[Xi];s<o[R];++s){u=[],a=o[s];r[Dt]({start:a[qn],added:a.added,old:u});for(f=0;f<a.old[R];++f)u[Dt](Wa(a.old[f]))}}return n}var e=this[V][qt];return{done:t(e[no]),undone:t(e[Zr])}},setHistory:function(e){var t=this[V][qt]=gf();t[no]=e[no];t[Zr]=e[Zr]},getTokenAt:function(e){var t,n,r,i,s,o=this[V].doc;e=ua(o,e);t=fu(this,e[ft]),n=this[V][gr];r=cf(o,e[ft]);i=new La(r[Lt],this[W][Bn]);while(i.pos<e.ch&&!i.eol()){i[qn]=i.pos;s=n.token(i,t)}return{start:i[qn],end:i.pos,string:i.current(),className:s||z,type:s||z,state:t}},getStateAfter:function(e){var t=this[V].doc;e=oa(t,e==z?t[zn]-1:e);return fu(this,e+1)},cursorCoords:function(e,t){var n,r=this[V].sel;e==z?n=r[$i]:typeof e=="object"?n=ua(this[V].doc,e):n=e?r[lt]:r.to;return yu(this,n,t||Cr)},charCoords:function(e,t){return gu(this,ua(this[V].doc,e),t||Cr)},coordsChar:function(e){var t=this[U][hn][Q]();return bu(this,e[xn]-t[xn],e.top-t.top)},defaultTextHeight:function(){return Eu(this[U])},markText:Nu(z,function(e,t,n){return Oa(this,ua(this[V].doc,e),ua(this[V].doc,t),n,"range")}),setBookmark:Nu(z,function(e,t){e=ua(this[V].doc,e);return Oa(this,e,e,t?{replacedWith:t}:{},Qn)}),findMarksAt:function(e){var t,n,r,i,s=this[V].doc;e=ua(s,e);t=[],n=cf(s,e[ft])[Y];if(n)for(r=0;r<n[R];++r){i=n[r];(i[lt]==z||i[lt]<=e.ch)&&(i.to==z||i.to>=e.ch)&&t[Dt](i[Ot])}return t},setGutterMarker:Nu(z,function(e,t,n){return ya(this,e,function(e){var r=e[Tt]||(e[Tt]={});r[t]=n;!n&&Rf(r)&&(e[Tt]=z);return X})}),clearGutter:Nu(z,function(e){var t=0,n=this,r=n[V].doc;r[xi](0,r[zn],function(r){if(r[Tt]&&r[Tt][e]){r[Tt][e]=z;Cu(n,t,t+1);Rf(r[Tt])&&(r[Tt]=z)}++t})}),addLineClass:Nu(z,function(e,t,n){return ya(this,e,function(e){var r=t==Lt?ar:t==ys?Mr:pr;if(!e[r])e[r]=n;else{if(RegExp("\\b"+n+"\\b")[xt](e[r]))return $;e[r]+=Ns+n}return X})}),removeLineClass:Nu(z,function(e,t,n){return ya(this,e,function(e){var r,i=t==Lt?ar:t==ys?Mr:pr,s=e[i];if(!s)return $;if(n==z)e[i]=z;else{r=s[On](RegExp("^"+n+"\\b\\s*|\\s*\\b"+n+"\\b"),"");if(r==s)return $;e[i]=r||z}return X})}),addLineWidget:Nu(z,function(e,t,n){var r=n||{};r.node=t;r[Hs]&&(this[U][ki]=X);ya(this,e,function(e){(e[Xt]||(e[Xt]=[]))[Dt](r);r[ft]=e;return X});return r}),removeLineWidget:Nu(z,function(e){var t,n,r=e[ft][Xt],i=pf(e[ft]);if(i==z||!r)return;for(t=0;t<r[R];++t)r[t]==e&&r[Yt](t--,1);n=e.node[mt]?e[ft][ht]-e.node[mt]:Eu(this[U]);hf(e[ft],n);Cu(this,i,i+1)}),lineInfo:function(e){var t;if(typeof e==nr){if(!aa(this[V].doc,e))return z;t=e;e=cf(this[V].doc,e);if(!e)return z}else{t=pf(e);if(t==z)return z}return{line:t,handle:e,text:e[Lt],gutterMarkers:e[Tt],textClass:e[ar],bgClass:e[Mr],wrapClass:e[pr],widgets:e[Xt]}},getViewport:function(){return{from:this[U][gt],to:this[U][wt]}},addWidget:function(e,t,n,r,i){var s,o,u,a,f=this[U];e=yu(this,ua(this[V].doc,e));s=e.top,o=e[xn];t[et][ai]=hi;f[dr][K](t);if(r=="over")s=e.top;else if(r=="near"){u=Math.max(f[tt][pt],this[V].doc[ht]),a=Math.max(f[dr][it],f[hn][it]);e[Ft]+t[mt]>u&&e.top>t[mt]&&(s=e.top-t[mt]);o+t[st]>a&&(o=a-t[st])}t[et].top=s+lu(f)+Bt;t[et][xn]=t[et][ur]="";if(i==ur){o=f[dr][it]-t[st];t[et][ur]="0px"}else{i==xn?o=0:i=="middle"&&(o=(f[dr][it]-t[st])/2);t[et][xn]=o+Bt}n&&va(this,o,s,o+t[st],s+t[mt])},lineCount:function(){return this[V].doc[zn]},clipPos:function(e){return ua(this[V].doc,e)},getCursor:function(e){var t,n=this[V].sel;e==z||e==$i?t=n[$i]:e==Ni?t=n[Ni]:e==Ai||e===$?t=n.to:t=n[lt];return sa(t)},somethingSelected:function(){return!ra(this[V].sel[lt],this[V].sel.to)},setCursor:Nu(z,function(e,t,n){var r=ua(this[V].doc,typeof e==nr?{line:e,ch:t||0}:e);n?fa(this,r):la(this,r,r)}),setSelection:Nu(z,function(e,t){var n=this[V].doc;la(this,ua(n,e),ua(n,t||e))}),extendSelection:Nu(z,function(e,t){var n=this[V].doc;fa(this,ua(n,e),t&&ua(n,t))}),setExtending:function(e){this[V].sel.extend=e},getLine:function(e){var t=this[oo](e);return t&&t[Lt]},getLineHandle:function(e){var t=this[V].doc;if(aa(t,e))return cf(t,e)},getLineNumber:function(e){return pf(e)},setLine:Nu(z,function(e,t){aa(this[V].doc,e)&&na(this,t,{line:e,ch:0},{line:e,ch:cf(this[V].doc,e)[Lt][R]})}),removeLine:Nu(z,function(e){aa(this[V].doc,e)&&na(this,"",{line:e,ch:0},ua(this[V].doc,{line:e+1,ch:0}))}),replaceRange:Nu(z,function(e,t,n){var r=this[V].doc;t=ua(r,t);n=n?ua(r,n):t;return na(this,e,t,n)}),getRange:function(e,t,n){var r,i,s,o=this[V].doc;e=ua(o,e);t=ua(o,t);r=e[ft],i=t[ft];if(r==i)return cf(o,r)[Lt][Kt](e.ch,t.ch);s=[cf(o,r)[Lt][Kt](e.ch)];o[xi](r+1,i,function(e){s[Dt](e[Lt])});s[Dt](cf(o,i)[Lt][Kt](0,t.ch));return s.join(n||"\n")},triggerOnKeyDown:Nu(z,$u),execCommand:function(e){return x[e](this)},moveH:Nu(z,function(e,t){var n=this[V].sel,r=e<0?n[lt]:n.to;if(n[jr]||n.extend||ra(n[lt],n.to))r=ba(this,e,t,this[W][Ki]);fa(this,r,r,e)}),deleteH:Nu(z,function(e,t){var n=this[V].sel;ra(n[lt],n.to)?na(this,"",n[lt],ba(this,e,t,$),In):na(this,"",n[lt],n.to,In);this[Rn][ui]=X}),moveV:Nu(z,function(e,t){var n,r,i,s=this[V],o=s.doc,u=this[U],a=s.sel[$i],f=yu(this,a,nt),l=f[xn];s[ni]!=z&&(l=s[ni]);if(t==Cr){r=Math.min(u[tt][pt],window.innerHeight||document[Wn][pt]);n=f.top+e*r}else t==ft&&(n=e>0?f[Ft]+3:f.top-3);do{i=bu(this,l,n);n+=e*5}while(i.outside&&(e<0?n>0:n<o[ht]));t==Cr&&(u[rt][G]+=gu(this,i,nt).top-f.top);fa(this,i,i,e);s[ni]=l}),toggleOverwrite:function(){(this[V][Fs]=!this[V][Fs])?this[U][_t][ot]+=qr:this[U][_t][ot]=this[U][_t][ot][On](qr,"")},posFromIndex:function(e){var t,n=0,r=this[V].doc;r[xi](0,r[zn],function(r){var i=r[Lt][R]+1;if(i>e){t=e;return X}e-=i;++n});return ua(r,{line:n,ch:t})},indexFromPos:function(e){var t;e=ua(this[V].doc,e);t=e.ch;this[V].doc[xi](0,e[ft],function(e){t+=e[Lt][R]+1});return t},scrollTo:function(e,t){e!=z&&(this[U][ct][Z]=this[U][J][Z]=e);t!=z&&(this[U][rt][G]=this[U][J][G]=t);Ko(this,[])},getScrollInfo:function(){var e=this[U][J],t=k;return{left:e[Z],top:e[G],height:e[Nr]-t,width:e[rr]-t,clientHeight:e[pt]-t,clientWidth:e[it]-t}},scrollIntoView:function(e){typeof e==nr&&(e={line:e,ch:0});if(!e||e[ft]!=z){e=e?ua(this[V].doc,e):this[V].sel[$i];da(this,e)}else va(this,e[xn],e.top,e[ur],e[Ft])},setSize:function(e,t){function n(e){return typeof e==nr||/^\d+$/[xt](e+"")?e+Bt:e}e!=z&&(this[U][tt][et][Ur]=n(e));t!=z&&(this[U][tt][et][ht]=n(t));this.refresh()},on:function(e,t){kf(this,e,t)},off:function(e,t){Lf(this,e,t)},operation:function(e){return Nu(this,e)()},refresh:function(){vu(this);this[U][J][Nr]>this[V][G]&&(this[U][rt][G]=this[U][J][G]=this[V][G]);Ko(this,X)},getInputField:function(){return this[U][ut]},getWrapperElement:function(){return this[U][tt]},getScrollerElement:function(){return this[U][J]},getGutterElement:function(){return this[U][yt]}};m=Mo.optionHandlers={};g=Mo[es]={};y=Mo.Init={toString:function(){return"CodeMirror.Init"}};Sa(pn,"",function(e,t){e[Di](t)},X);Sa(gr,z,Po,X);Sa(Mi,2,Po,X);Sa(os,$);Sa(yi,X);Sa(Bn,4,function(e){Po(e);vu(e);Ko(e,X)},X);Sa(tr,X);Sa(Ki,!Ao);Sa("theme",_i,function(e){jo(e);Fo(e)},X);Sa(ti,_i,Bo);Sa(Gi,z);Sa(gn,z);Sa(Gn,z);Sa(Mt,$,Ho,X);Sa(yt,[],function(e){Uo(e[W]);Fo(e)},X);Sa(At,$,function(e){Uo(e[W]);Fo(e)},X);Sa(Ui,1,Fo,X);Sa(wi,function(e){return e},Fo,X);Sa(Jr,$,nu,X);Sa(er,$,function(e,t){if(t==vi){Qu(e);e[U][ut].blur()}else t||Ou(e,X)});Sa(or,X);Sa(qi,530);Sa(Ds,1);Sa("workTime",100);Sa("workDelay",100);Sa(qs,X);Sa(Rs,100);Sa("undoDepth",40);Sa(Dr,10,function(e){e.refresh()},X);Sa(Vr,z,function(e,t){e[U][ut].tabIndex=t||""});Sa(Nn,z);b=Mo.modes={},w=Mo.mimeModes={};Mo.defineMode=function(e,t){var n;!Mo[es][gr]&&e!=rs&&(Mo[es][gr]=e);if(arguments[R]>2){t.dependencies=[];for(n=2;n<arguments[R];++n)t.dependencies[Dt](arguments[n])}b[e]=t};Mo.defineMIME=function(e,t){w[e]=t};Mo[Ii]=function(e){if(typeof e==vt&&w[at](e))e=w[e];else if(typeof e==vt&&/^[\w\-]+\/[\w\-]+\+xml$/[xt](e))return Mo[Ii]("application/xml");return typeof e==vt?{name:e}:e||{name:rs}};Mo[As]=function(e,t){var n,r,i,s;t=Mo[Ii](t);n=b[t.name];if(!n)return Mo[As](e,gs);r=n(e,t);if(E[at](t.name)){i=E[t.name];for(s in i){if(!i[at](s))continue;r[at](s)&&(r["_"+s]=r[s]);r[s]=i[s]}}r.name=t.name;return r};Mo.defineMode(rs,function(){return{token:function(e){e.skipToEnd()}}});Mo.defineMIME(gs,rs);E=Mo.modeExtensions={};Mo.extendMode=function(e,t){var n,r=E[at](e)?E[e]:E[e]={};for(n in t)t[at](n)&&(r[n]=t[n])};Mo.defineExtension=function(e,t){Mo[Ht][e]=t};Mo.defineOption=Sa;S=[];Mo.defineInitHook=function(e){S[Dt](e)};Mo[_s]=xa;Mo[Yn]=Ta;Mo[Os]=function(e,t){var n;while(e[Os]){n=e[Os](t);t=n.state;e=n[gr]}return n||{mode:e,state:t}};x=Mo.commands={selectAll:function(e){e.setSelection({line:0,ch:0},{line:e.lineCount()-1})},killLine:function(e){var t=e[kn](X),n=e[kn]($),r=!ra(t,n);!r&&e.getLine(t[ft])[R]==t.ch?e[Tr]("",t,{line:t[ft]+1,ch:0},In):e[Tr]("",t,r?n:{line:t[ft]},In)},deleteLine:function(e){var t=e[kn]()[ft];e[Tr]("",{line:t,ch:0},{line:t},In)},undo:function(e){e[Ir]()},redo:function(e){e[fi]()},goDocStart:function(e){e[Jt]({line:0,ch:0})},goDocEnd:function(e){e[Jt]({line:e.lineCount()-1})},goLineStart:function(e){e[Jt](Zf(e,e[kn]()[ft]))},goLineStartSmart:function(e){var t=e[kn](),n=Zf(e,t[ft]),r=e[oo](n[ft]),i=mf(r);if(!i||i[0][dn]==0){var s=Math.max(0,r[Lt].search(/\S/)),o=t[ft]==n[ft]&&t.ch<=s&&t.ch;e[Jt]({line:n[ft],ch:o?0:s})}else e[Jt](n)},goLineEnd:function(e){e[Jt](el(e,e[kn]()[ft]))},goLineUp:function(e){e.moveV(-1,ft)},goLineDown:function(e){e.moveV(1,ft)},goPageUp:function(e){e.moveV(-1,Cr)},goPageDown:function(e){e.moveV(1,Cr)},goCharLeft:function(e){e[ao](-1,di)},goCharRight:function(e){e[ao](1,di)},goColumnLeft:function(e){e[ao](-1,ns)},goColumnRight:function(e){e[ao](1,ns)},goWordLeft:function(e){e[ao](-1,mi)},goWordRight:function(e){e[ao](1,mi)},delCharBefore:function(e){e[Ls](-1,di)},delCharAfter:function(e){e[Ls](1,di)},delWordBefore:function(e){e[Ls](-1,mi)},delWordAfter:function(e){e[Ls](1,mi)},indentAuto:function(e){e[Vn](Xr)},indentMore:function(e){e[Vn](Ji)},indentLess:function(e){e[Vn](gi)},insertTab:function(e){e[on]("	",Ai,ut)},defaultTab:function(e){e.somethingSelected()?e[Vn](Ji):e[on]("	",Ai,ut)},transposeChars:function(e){var t=e[kn](),n=e.getLine(t[ft]);t.ch>0&&t.ch<n[R]-1&&e[Tr](n[an](t.ch)+n[an](t.ch-1),{line:t[ft],ch:t.ch-1},{line:t[ft],ch:t.ch+1})},newlineAndIndent:function(e){Nu(e,function(){e[on]("\n",Ai,ut);e.indentLine(e[kn]()[ft],z,X)})()},toggleOverwrite:function(e){e[Zi]()}};T=Mo[ti]={};T[fo]={Left:bs,Right:ss,Up:Gs,Down:Es,End:lr,Home:"goLineStartSmart",PageUp:Ys,PageDown:Ss,Delete:Ri,Backspace:Fi,Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:Zi};T.pcDefault={"Ctrl-A":Oi,"Ctrl-D":xs,"Ctrl-Z":Ir,"Shift-Ctrl-Z":fi,"Ctrl-Y":fi,"Ctrl-Home":Kr,"Alt-Up":Kr,"Ctrl-End":Sr,"Ctrl-Down":Sr,"Ctrl-Left":$r,"Ctrl-Right":_r,"Alt-Left":Pr,"Alt-Right":lr,"Ctrl-Backspace":mr,"Ctrl-Delete":Fn,"Ctrl-S":"save","Ctrl-F":pi,"Ctrl-G":Zs,"Shift-Ctrl-G":Qs,"Shift-Ctrl-F":On,"Shift-Ctrl-R":ds,"Ctrl-[":ms,"Ctrl-]":ws,fallthrough:fo};T.macDefault={"Cmd-A":Oi,"Cmd-D":xs,"Cmd-Z":Ir,"Shift-Cmd-Z":fi,"Cmd-Y":fi,"Cmd-Up":Kr,"Cmd-End":Sr,"Cmd-Down":Sr,"Alt-Left":$r,"Alt-Right":_r,"Cmd-Left":Pr,"Cmd-Right":lr,"Alt-Backspace":mr,"Ctrl-Alt-Backspace":Fn,"Alt-Delete":Fn,"Cmd-S":"save","Cmd-F":pi,"Cmd-G":Zs,"Shift-Cmd-G":Qs,"Cmd-Alt-F":On,"Shift-Cmd-Alt-F":ds,"Cmd-[":ms,"Cmd-]":ws,fallthrough:[fo,"emacsy"]};T[_i]=Lo?T.macDefault:T.pcDefault;T.emacsy={"Ctrl-F":ss,"Ctrl-B":bs,"Ctrl-P":Gs,"Ctrl-N":Es,"Alt-F":_r,"Alt-B":$r,"Ctrl-A":Pr,"Ctrl-E":lr,"Ctrl-V":Ss,"Shift-Ctrl-V":Ys,"Ctrl-D":Ri,"Ctrl-H":Fi,"Alt-D":Fn,"Alt-Backspace":mr,"Ctrl-K":"killLine","Ctrl-T":"transposeChars"};Mo.isModifierKey=ka;Mo.fromTextArea=function(e,t){function u(){e[pn]=s.getValue()}var n,r,i,s;t||(t={});t[pn]=e[pn];!t[Vr]&&e[Vr]&&(t[Vr]=e[Vr]);if(t[Nn]==z){n=document.body;try{n=document[Qt]}catch(o){}t[Nn]=n==e||e.getAttribute(Nn)!=z&&n==document.body}if(e.form){kf(e.form,hr,u);r=e.form,i=r[hr];try{r[hr]=function a(){u();r[hr]=i;r[hr]();r[hr]=a}}catch(o){}}e[et][U]=Kn;s=Mo(function(t){e[Mn][Ei](t,e[Dn])},t);s.save=u;s.getTextArea=function(){return e};s.toTextArea=function(){u();e[Mn].removeChild(s.getWrapperElement());e[et][U]="";if(e.form){Lf(e.form,hr,u);typeof e.form[hr]==$s&&(e.form[hr]=i)}};return s};La[Ht]={eol:function(){return this.pos>=this[vt][R]},sol:function(){return this.pos==0},peek:function(){return this[vt][an](this.pos)||undefined},next:function(){if(this.pos<this[vt][R])return this[vt][an](this.pos++)},eat:function(e){var t,n=this[vt][an](this.pos);typeof e==vt?t=n==e:t=n&&(e[xt]?e[xt](n):e(n));if(t){++this.pos;return n}},eatWhile:function(e){var t=this.pos;while(this.eat(e
));return this.pos>t},eatSpace:function(){var e=this.pos;while(/[\s\u00a0]/[xt](this[vt][an](this.pos)))++this.pos;return this.pos>e},skipToEnd:function(){this.pos=this[vt][R]},skipTo:function(e){var t=this[vt][Fr](e,this.pos);if(t>-1){this.pos=t;return X}},backUp:function(e){this.pos-=e},column:function(){return Df(this[vt],this[qn],this[Bn])},indentation:function(){return Df(this[vt],z,this[Bn])},match:function(e,t,n){var r,i;if(typeof e!=vt){i=this[vt][Kt](this.pos).match(e);if(i&&i.index>0)return z;i&&t!==$&&(this.pos+=i[0][R]);return i}r=function(e){return n?e.toLowerCase():e};if(r(this[vt])[Fr](r(e),this.pos)==this.pos){t!==$&&(this.pos+=e[R]);return X}},current:function(){return this[vt][Kt](this[qn],this.pos)}};Mo.StringStream=La;Mo.TextMarker=Aa;Aa[Ht].clear=function(){var e,t,n,r,i;if(this[yr])return;xu(this.cm);e=z,t=z;for(n=0;n<this[Wt][R];++n){r=this[Wt][n];i=Ma(r[Y],this);i.to!=z&&(t=pf(r));r[Y]=_a(r[Y],i);i[lt]!=z?e=pf(r):this[Pt]&&!Ua(r)&&hf(r,Eu(this.cm[U]))}e!=z&&Cu(this.cm,e,t+1);this[Wt][R]=0;this[yr]=X;if(this[Pt]&&this.cm[V][oi]){this.cm[V][oi]=$;ca(this.cm)}Tu(this.cm);Of(this.cm,this,"clear")};Aa[Ht][pi]=function(){var e,t,n,r,i,s;for(n=0;n<this[Wt][R];++n){r=this[Wt][n];i=Ma(r[Y],this);if(i[lt]!=z||i.to!=z){s=pf(r);i[lt]!=z&&(e={line:s,ch:i[lt]});i.to!=z&&(t={line:s,ch:i.to})}}return this.type==Qn?e:e&&{from:e,to:t}};Aa[Ht].getOptions=function(e){var t=this[rn];return{className:this[ot],inclusiveLeft:this[fn],inclusiveRight:this[en],atomic:this.atomic,collapsed:this[Pt],clearOnEnter:this.clearOnEnter,replacedWith:e?t&&t.cloneNode(X):t,readOnly:this[er],startStyle:this[ii],endStyle:this[zi]}};window.lineIsHidden=Ua;N={};C=/[\t\u0000-\u0019\u200b\u2028\u2029\uFEFF]/g;ff[Ht]={chunkSize:function(){return this[Wt][R]},remove:function(e,t,n){var r,i,s;for(r=e,i=e+t;r<i;++r){s=this[Wt][r];this[ht]-=s[ht];Ga(s);Of(n,s,In)}this[Wt][Yt](e,t)},collapse:function(e){e[Yt][js](e,[e[R],0][Ms](this[Wt]))},insertHeight:function(e,t,n){var r,i;this[ht]+=n;this[Wt]=this[Wt][Kt](0,e)[Ms](t)[Ms](this[Wt][Kt](e));for(r=0,i=t[R];r<i;++r)t[r][It]=this},iterN:function(e,t,n){var r;for(r=e+t;e<r;++e)if(n(this[Wt][e]))return X}};lf[Ht]={chunkSize:function(){return this[zn]},remove:function(e,t,n){var r,i,s,o,u,a;this[zn]-=t;for(r=0;r<this[dt][R];++r){i=this[dt][r],s=i[$n]();if(e<s){o=Math.min(t,s-e),u=i[ht];i.remove(e,o,n);this[ht]-=u-i[ht];if(s==o){this[dt][Yt](r--,1);i[It]=z}if((t-=o)==0)break;e=0}else e-=s}if(this[zn]-t<25){a=[];this.collapse(a);this[dt]=[new ff(a)];this[dt][0][It]=this}},collapse:function(e){var t,n;for(t=0,n=this[dt][R];t<n;++t)this[dt][t].collapse(e)},insert:function(e,t){var n,r,i=0;for(n=0,r=t[R];n<r;++n)i+=t[n][ht];this.insertHeight(e,t,i)},insertHeight:function(e,t,n){var r,i,s,o,u,a;this[zn]+=t[R];this[ht]+=n;for(r=0,i=this[dt][R];r<i;++r){s=this[dt][r],o=s[$n]();if(e<=o){s.insertHeight(e,t,n);if(s[Wt]&&s[Wt][R]>50){while(s[Wt][R]>50){u=s[Wt][Yt](s[Wt][R]-25,25);a=new ff(u);s[ht]-=a[ht];this[dt][Yt](r+1,0,a);a[It]=this}this.maybeSpill()}break}e-=o}},maybeSpill:function(){var e,t,n,r,i;if(this[dt][R]<=10)return;e=this;do{t=e[dt][Yt](e[dt][R]-5,5);n=new lf(t);if(!e[It]){r=new lf(e[dt]);r[It]=e;e[dt]=[r,n];e=r}else{e[zn]-=n[zn];e[ht]-=n[ht];i=jf(e[It][dt],e);e[It][dt][Yt](i+1,0,n)}n[It]=e[It]}while(e[dt][R]>10);e[It].maybeSpill()},iter:function(e,t,n){this.iterN(e,t-e,n)},iterN:function(e,t,n){var r,i,s,o,u;for(r=0,i=this[dt][R];r<i;++r){s=this[dt][r],o=s[$n]();if(e<o){u=Math.min(t,o-e);if(s.iterN(e,u,n))return X;if((t-=u)==0)break;e=0}else e-=o}}};Mo.e_stop=xf;Mo.e_preventDefault=Ef;Mo.e_stopPropagation=Sf;Mo.on=kf;Mo.off=Lf;Mo.signal=Af;k=30;L=Mo.Pass={toString:function(){return"CodeMirror.Pass"}};_f[Ht]={set:function(e,t){clearTimeout(this.id);this.id=setTimeout(t,e)}};Mo.countColumn=Df;A=[""];O=/[\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc]/;M=/[\u0300-\u036F\u0483-\u0487\u0488-\u0489\u0591-\u05BD\u05BF\u05C1-\u05C2\u05C4-\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7-\u06E8\u06EA-\u06ED\uA66F\uA670-\uA672\uA674-\uA67D\uA69F]/;_=function(){if(mo)return $;var e=Uf(nt);return Zn in e||or in e}();D=/^$/;ho?D=/$'/:Eo?D=/\-[^ \-?]|\?[^ !'\"\),.\-\/:;\?\]\}]/:bo&&(D=/\-[^ \-\.?]|\?[^ \-\.?\]\}:;!'\"\),\/]|[\.!\"#&%\)*+,:;=>\]|\}~][\(\{\[<]|\$'/);B="\n\nb".split(/\n/)[R]!=3?function(e){var t=0,n=[],r=e[R];while(t<=r){var i=e[Fr]("\n",t);i==-1&&(i=e[R]);var s=e[Kt](t,e[an](i-1)=="\r"?i-1:i),o=s[Fr]("\r");if(o!=-1){n[Dt](s[Kt](0,o));t+=o+1}else{n[Dt](s);t=i+1}}return n}:function(e){return e.split(/\r\n?|\n/)};Mo.splitLines=B;j=window[Xn]?function(e){try{return e[wn]!=e[Ci]}catch(t){return $}}:function(e){try{var t=e.ownerDocument.selection.createRange()}catch(n){}return!t||t.parentElement()!=e?$:t.compareEndPoints("StartToEnd",t)!=0};F=function(){var e=Uf(nt);if(ks in e)return X;e[An](ks,"return;");return typeof e[ks]==$s}();I={3:"Enter",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:eo,35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:Yi,59:";",91:Xs,92:Xs,93:Xs,109:"-",107:"=",127:Yi,186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63276:"PageUp",63277:eo,63275:"End",63273:"Home",63234:"Left",63232:"Up",63235:"Right",63233:"Down",63302:"Insert",63272:Yi};Mo.keyNames=I;(function(){var e;for(e=0;e<10;e++)I[e+48]=e+"";for(e=65;e<=90;e++)I[e]=String.fromCharCode(e);for(e=1;e<=12;e++)I[e+111]=I[e+63235]="F"+e})();q=function(){function n(n){return n>255?1424>n||n>1524?1536>n||n>1791?1792>n||n>2220?to:"r":t[an](n-1536):"R":e[an](n)}var e="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLL",t="rrrrrrrrrrrr,rNNmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmrrrrrrrnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmNmmmmrrrrrrrrrrrrrrrrrr",r=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,i=/[stwN]/,s=/[LRr]/,o=/[Lb1n]/,u=/[1n]/,a=to;return function(t){if(!r[xt](t))return $;var f=t[R],l=[];for(var c=0,h;c<f;++c)l[Dt](h=n(t.charCodeAt(c)));for(var c=0,p=a;c<f;++c){var h=l[c];h=="m"?l[c]=p:p=h}for(var c=0,d=a;c<f;++c){var h=l[c];if(h==lo&&d=="r")l[c]="n";else if(s[xt](h)){d=h;h=="r"&&(l[c]="R")}}for(var c=1,p=l[0];c<f-1;++c){var h=l[c];h=="+"&&p==lo&&l[c+1]==lo?l[c]=lo:h==","&&p==l[c+1]&&(p==lo||p=="n")&&(l[c]=p);p=h}for(var c=0;c<f;++c){var h=l[c];if(h==",")l[c]="N";else if(h=="%"){for(var v=c+1;v<f&&l[v]=="%";++v);var m=c&&l[c-1]=="!"||v<f-1&&l[v]==lo?lo:"N";for(var g=c;g<v;++g)l[g]=m;c=v-1}}for(var c=0,d=a;c<f;++c){var h=l[c];d==to&&h==lo?l[c]=to:s[xt](h)&&(d=h)}for(var c=0;c<f;++c)if(i[xt](l[c])){for(var v=c+1;v<f&&i[xt](l[v]);++v);var y=(c?l[c-1]:a)==to,b=(v<f-1?l[v]:a)==to,m=y||b?to:"R";for(var g=c;g<v;++g)l[g]=m;c=v-1}var w=[],E;for(var c=0;c<f;)if(o[xt](l[c])){var S=c;for(++c;c<f&&o[xt](l[c]);++c);w[Dt]({from:S,to:c,level:0})}else{var x=c,T=w[R];for(++c;c<f&&l[c]!=to;++c);for(var g=x;g<c;)if(u[xt](l[g])){x<g&&w[Yt](T,0,{from:x,to:g,level:1});var N=g;for(++g;g<c&&u[xt](l[g]);++g);w[Yt](T,0,{from:N,to:g,level:2});x=g}else++g;x<c&&w[Yt](T,0,{from:x,to:c,level:1})}if(w[0][dn]==1&&(E=t.match(/^\s+/))){w[0][lt]=E[0][R];w.unshift({from:0,to:E[0][R],level:0})}if(Hf(w)[dn]==1&&(E=t.match(/\s+$/))){Hf(w).to-=E[0][R];w[Dt]({from:f-E[0][R],to:f,level:0})}w[0][dn]!=Hf(w)[dn]&&w[Dt]({from:f,to:f,level:w[0][dn]});return w}}();Mo.version="3.0 +";return Mo}();